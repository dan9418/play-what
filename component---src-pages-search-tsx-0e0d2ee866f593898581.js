"use strict";(self.webpackChunkplay_what=self.webpackChunkplay_what||[]).push([[334],{7146:function(e,t,n){n.d(t,{v:function(){return r}});var r=n(9).default.div.withConfig({displayName:"PageBody__StyledPageBody",componentId:"sc-176nxv8-0"})(["width:100%;max-width:1024px;min-height:calc(100vh - 96px);margin:auto;padding:16px;"])},9553:function(e,t,n){n.d(t,{r:function(){return c}});var r=n(5245),a=n(7294),o=n(9),i=["title","action","children"],c=o.default.div.withConfig({displayName:"Card__StyledCard",componentId:"sc-dwwfty-0"})(["background:",";width:100%;border-radius:16px;padding:16px;.header{margin-bottom:16px;display:flex;align-items:center;justify-content:space-between;}"],(function(e){return e.theme.surface.card}));t.Z=function(e){var t=e.title,n=e.action,o=e.children,u=(0,r.Z)(e,i);return a.createElement(c,u,t&&a.createElement("div",{className:"header"},a.createElement("h2",null,t),n),o)}},7275:function(e,t,n){var r=n(5444),a=n(7294),o=n(9).default.form.withConfig({displayName:"SearchBar__StyledSearchBar",componentId:"sc-1je05sb-0"})(["width:100%;.search-bar{width:100%;max-width:512px;display:grid;grid-template-columns:1fr auto;input,button{padding:8px 8px;border-radius:8px;border:1px solid ",";}input{border-radius:8px 0 0 8px;border-right:none;}button{border-radius:0 8px 8px 0;cursor:pointer;color:white;font-weight:bold;background-color:",";border-left:none;padding:8px 16px;display:flex;align-items:center;justify-content:center;}}"],(function(e){return e.theme.utils.border}),(function(e){return e.theme.action.interactive}));t.Z=function(e){var t=e.searchRef,n=e.query,i=e.setQuery,c=e.placeholder,u=(0,a.useState)(n),l=u[0],d=u[1],s=void 0===n?l:n,f=void 0===i?d:i;return a.createElement(o,{role:"search"},a.createElement("div",{className:"search-bar"},a.createElement("input",{type:"search",id:"site-search",name:"query",ref:t,onChange:function(e){f(e.target.value)},value:s,placeholder:c||"Search the site..."}),a.createElement("button",{type:"submit",onSubmit:function(e){return e.preventDefault&&e.preventDefault(),(0,r.c4)("/search?query="+e.target.value),!1}},"Search")))}},3819:function(e,t,n){n.d(t,{N:function(){return c}});var r=n(8891),a=n(7656),o=function(e,t,n){switch(e){case r.ww.Chord:return(n||"")+" "+t+" Chord";case r.ww.Scale:return(n||"")+" "+t+" Scale";default:return(n||"")+" "+t}},i=function(e,t,n){return"/browse/"+e+"/"+t+(n?"/root/"+n:"")},c=[];a.cI.forEach((function(e){c.push({text:o(e.modelId,e.name),to:i(e.modelId,e.id),tags:e.tags,isCommon:!e.tags.includes(r.Qv.Exotic)}),a.WA.forEach((function(t){c.push({text:o(e.modelId,e.name,t.name),to:i(e.modelId,e.id,t.id),tags:e.tags})}))}))},7662:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var r=n(7294),a=n(9),o=n(9339),i=n(7146),c=n(9553),u=n(7275),l=n(5444),d=n(3686),s=n(6481),f=n(3433),m=a.default.div.withConfig({displayName:"FilterList__StyledFilterList",componentId:"sc-19wolq9-0"})(["border:1px solid ",";border-radius:8px;padding:8px;margin-bottom:16px;.top{display:flex;align-items:center;justify-content:space-between;}ul{display:flex;flex-wrap:wrap;align-items:center;justify-content:center;gap:8px;> li{margin:0  !important;list-style-type:none !important;}button{background-color:",";;border:1px solid ",";;color:",";padding:4px 8px;font-size:80%;:hover{background-color:",";}&.active{color:",";;background-color:",";}:disabled{color:",";background-color:",";cursor:not-allowed;}}}"],(function(e){return e.theme.action.interactive}),(function(e){return e.theme.utils.transparent}),(function(e){return e.theme.action.interactive}),(function(e){return e.theme.action.interactive}),(function(e){return e.theme.utils.hoverDark}),(function(e){return e.theme.text.inverted}),(function(e){return e.theme.action.interactive}),(function(e){return e.theme.text.inverted}),(function(e){return e.theme.text.secondary})),p=function(e){var t=e.tags,n=e.availableTags,a=e.selectedTags,o=e.setSelectedTags;return r.createElement(m,null,!1,r.createElement("ul",null,t.map((function(e){return r.createElement("li",{key:e},r.createElement(s.Z,{onClick:function(){return function(e){a.includes(e)?o(a.filter((function(t){return t!==e}))):o([].concat((0,f.Z)(a),[e]))}(e)},className:a.includes(e)?"active":"",disabled:!n.includes(e)},e))}))))},h=n(3819),g=a.default.ul.withConfig({displayName:"SearchResultsCard__StyledSearchResultsList",componentId:"sc-jtbm82-0"})(["  font-size:110%;li a{padding:4px 0;display:block;&:focus,&:hover{padding:8px;background-color:",";color:white;border-radius:8px;}}"],(function(e){return e.theme.action.interactive})),y=function(e,t){return!e.length||!e.some((function(e){return!t.tags.includes(e)}))},v=function(e){var t=e.resultsRef,n=e.query,a=(0,r.useState)(!1),o=a[0],i=a[1],u=(0,r.useState)([]),s=u[0],f=u[1],m=r.createElement(x,{className:"filter "+(o?"active":""),onClick:function(){return i(!o)}},"Filter"),v=n?h.N.filter((function(e){return function(e,t){return void 0===e&&(e=""),t.text.match(new RegExp(e,"gi"))}(n,e)&&y(s,e)})):h.N.filter((function(e){return e.isCommon&&y(s,e)})),b=new Set;h.N.forEach((function(e){e.to.includes("root")||e.tags.forEach((function(e){return b.add(e)}))}));var w=d.Z.setToArray(b)||[],E=new Set;v.forEach((function(e){e.to.includes("root")||e.tags.forEach((function(e){return E.add(e)}))}));var S=d.Z.setToArray(E)||[];return r.createElement(c.Z,{title:n?"Results":"Popular Pages",action:m},o&&r.createElement(p,{tags:w,availableTags:S,selectedTags:s,setSelectedTags:f}),r.createElement(g,null,v.map((function(e,n){return r.createElement("li",{key:e.to},r.createElement(l.rU,{id:"search-result="+n,to:e.to,ref:0===n?t:void 0,onKeyDown:function(t){if("Enter"===t.key&&(0,l.c4)(e.to),"ArrowDown"===t.key){var r=document.getElementById("search-result="+(n+1));r&&r.focus()}if("ArrowUp"===t.key){var a=document.getElementById("search-result="+(n-1));a&&a.focus()}}},e.text))}))))},x=(0,a.default)(s.Z).withConfig({displayName:"SearchResultsCard___StyledButtonInput",componentId:"sc-jtbm82-1"})(["color:",";background-color:transparent;text-decoration:underline;&.active{color:white;background-color:",";}"],(function(e){return e.theme.action.interactive}),(function(e){return e.theme.action.interactive})),b=(0,a.default)(i.v).withConfig({displayName:"SearchPage__StyledSearchPage",componentId:"sc-11918fy-0"})(["display:flex;flex-direction:column;align-items:center;","{max-width:768px;}.search-bar{margin:32px auto;}"],c.r),w=function(){var e=(0,o.Wd)("query")[0],t=(0,r.useState)(e||""),n=t[0],a=t[1],i=(0,r.useRef)(),c=(0,r.useRef)();return(0,r.useEffect)((function(){var t=(e?c:i).current;t&&t.focus()}),[]),r.createElement(b,null,r.createElement(u.Z,{searchRef:i,query:n,setQuery:a}),r.createElement(v,{resultsRef:c,query:n}))}}}]);
//# sourceMappingURL=component---src-pages-search-tsx-0e0d2ee866f593898581.js.map