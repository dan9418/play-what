{"version":3,"file":"component---src-pages-practice-tsx-cb0c364681aa356d376b.js","mappings":"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","sources":["webpack://play-what/./src/core/models/Scale.ts","webpack://play-what/./src/components/practice/PracticePage.tsx","webpack://play-what/./src/pages/practice.tsx"],"sourcesContent":["import IntervalSpan from '@pw-core/models/Interval';\r\nimport ArrayUtils from '../general/Array.utils';\r\nimport NumberUtils from '../general/Number.utils';\r\nimport Chord from './Chord';\r\nimport Model from './Model';\r\nimport { IntervalId, IPod, ScaleId, ScaleTag } from './Model.constants';\r\nimport { SCALE_PRESETS, SCALE_PRESET_MAP } from './Model.presets';\r\nimport { arePodListsEqual, reducePodList, subtractPods } from './Pod.static';\r\nimport PodList from './PodList';\r\n\r\nexport default class Scale extends PodList {\r\n\r\n    constructor(id: ScaleId, options = undefined) {\r\n        super(SCALE_PRESET_MAP, id, options);\r\n    }\r\n\r\n    static fromValue = (value: IPod[]) => Model.fromValue(SCALE_PRESETS, Scale, value, arePodListsEqual, reducePodList);\r\n\r\n    getMode(d) {\r\n        let rotated = [...this.podList];\r\n        rotated = ArrayUtils.rotate(rotated, d);\r\n        for (let i = (this.podList.length - d); i < rotated.length; i++) {\r\n            const curPod = rotated[i];\r\n            rotated[i] = [curPod[0] + 12, curPod[1] + 7];\r\n        }\r\n        // Get difference between each interval\r\n        const newPods: IPod[] = [[0, 0]];\r\n        const newIntervals = [new IntervalSpan(IntervalId.P1)];\r\n        for (let i = 0; i < rotated.length - 1; i++) {\r\n            const newPod = subtractPods(rotated[i + 1], rotated[0])\r\n            newPods.push(newPod);\r\n            const newIvl = IntervalSpan.fromValue(newPod);\r\n            newIntervals.push(newIvl);\r\n        }\r\n        const mode = Scale.fromValue(newPods);\r\n\r\n        /*if (this.root) {\r\n            numeral.applyRoot(this.notes[d]);\r\n            console.log('dpb num root', numeral);\r\n        }*/\r\n        return mode;\r\n    };\r\n\r\n    getAllModes() {\r\n        const modes = [];\r\n        if (this.tags.includes(ScaleTag.Diatonic) ||\r\n            this.tags.includes(ScaleTag.Pentatonic) ||\r\n            this.tags.includes(ScaleTag.MelodicMode) ||\r\n            this.tags.includes(ScaleTag.HarmonicMode)\r\n        ) {\r\n            for (let i = 0; i < this.podList.length; i++) {\r\n                modes.push(this.getMode(i));\r\n            }\r\n        }\r\n        return modes;\r\n    };\r\n\r\n    getNumeral(d) {\r\n        // Get every other interval\r\n        const curIntervals = [];\r\n        for (let i = 0; i < this.podList.length; i = i + 2) {\r\n            const curD = NumberUtils.moduloSum(d, i, this.podList.length);\r\n            const curIvl = this.intervals[curD];\r\n            curIntervals.push(curIvl);\r\n        }\r\n        // Get difference between each interval\r\n        const newPods: IPod[] = [[0, 0]];\r\n        //const newIntervals = [new IntervalSpan(IntervalId.P1)];\r\n        for (let i = 0; i < curIntervals.length - 1; i++) {\r\n            const newPod = subtractPods(curIntervals[i + 1].pod, curIntervals[0].pod)\r\n            newPods.push(newPod);\r\n            //const newIvl = IntervalSpan.fromValue(newPod);\r\n            //newIntervals.push(newIvl);\r\n        }\r\n        const numeral = Chord.fromValue(newPods);\r\n        if (this.root) {\r\n            numeral.applyRoot(this.notes[d]);\r\n        }\r\n        return numeral;\r\n    };\r\n\r\n    getAllNumerals() {\r\n        const numerals = [];\r\n        if (this.tags.includes(ScaleTag.Diatonic)) {\r\n            for (let i = 0; i < this.podList.length; i++) {\r\n                numerals.push(this.getNumeral(i));\r\n            }\r\n        }\r\n        return numerals;\r\n    };\r\n}\r\n","import React, { useState } from \"react\";\r\nimport styled from 'styled-components';\r\nimport { NoteId, ScaleId } from \"../../core/models/Model.constants\";\r\nimport { NOTE_PRESETS, NOTE_PRESET_MAP } from \"../../core/models/Model.presets\";\r\nimport Note from \"../../core/models/Note\";\r\nimport Scale from \"../../core/models/Scale\";\r\nimport Fretboard from \"../../viewers/fretboard/Fretboard\";\r\nimport { getFretboardProps } from \"../../viewers/fretboard/Fretboard.utils\";\r\nimport { VoicingId, VOICING_PRESET_MAP } from \"../../viewers/fretboard/Fretboard.voicing\";\r\nimport DropdownInput from \"../_shared/inputs/DropdownInput\";\r\nimport { StyledPageBody } from \"../_shared/layout/PageBody\";\r\nimport PageTitle from \"../_shared/layout/PageTitle\";\r\nimport Card, { StyledCard } from \"../_shared/ui/Card\";\r\nimport InputRow, { StyledInputRow } from \"../_shared/ui/InputRow\";\r\n\r\nconst StyledPracticePage = styled(StyledPageBody)`\r\n\twidth: 100%;\r\n    max-width: 1024px;\r\n    margin: auto;\r\n    \r\n    ${StyledCard}, ${StyledInputRow} {\r\n        margin-top: 16px;\r\n    }\r\n`;\r\n\r\nconst PracticePage: React.FC<any> = () => {\r\n    const [rootPreset, setRootPreset] = useState(NOTE_PRESET_MAP.get(NoteId.E));\r\n\r\n    const root = new Note(rootPreset.value);\r\n    const scale = new Scale(ScaleId.Ionian, { root });\r\n\r\n    console.log('dpb rootPreset', rootPreset);\r\n\r\n    const items = [\r\n        {\r\n            model: Scale,\r\n            modelId: ScaleId.Ionian,\r\n            rootId: scale.notes[0].id,\r\n            voicingId: VoicingId.Scale_DoubleOctave_EShape_2\r\n        },\r\n        {\r\n            model: Scale,\r\n            modelId: ScaleId.Dorian,\r\n            rootId: scale.notes[1].id,\r\n            voicingId: VoicingId.Scale_DoubleOctave_DShape_1\r\n        },\r\n        {\r\n            model: Scale,\r\n            modelId: ScaleId.Phrygian,\r\n            rootId: scale.notes[2].id,\r\n            voicingId: VoicingId.Scale_DoubleOctave_CShape_1\r\n        },\r\n        {\r\n            model: Scale,\r\n            modelId: ScaleId.Lydian,\r\n            rootId: scale.notes[3].id,\r\n            voicingId: VoicingId.Scale_DoubleOctave_CShape_2\r\n        },\r\n        {\r\n            model: Scale,\r\n            modelId: ScaleId.Mixolydian,\r\n            rootId: scale.notes[4].id,\r\n            voicingId: VoicingId.Scale_DoubleOctave_AShape_1\r\n        },\r\n        {\r\n            model: Scale,\r\n            modelId: ScaleId.Aeolian,\r\n            rootId: scale.notes[5].id,\r\n            voicingId: VoicingId.Scale_DoubleOctave_GShape_1\r\n        },\r\n        {\r\n            model: Scale,\r\n            modelId: ScaleId.Locrian,\r\n            rootId: scale.notes[6].id,\r\n            voicingId: VoicingId.Scale_DoubleOctave_EShape_1\r\n        }\r\n    ];\r\n\r\n    return (\r\n        <StyledPracticePage>\r\n            <PageTitle title=\"Practice\" />\r\n            <InputRow label=\"Root\">\r\n                <DropdownInput options={NOTE_PRESETS} value={rootPreset} setValue={p => {\r\n                    setRootPreset(p);\r\n                }} />\r\n            </InputRow>\r\n            <Card title=\"CAGED\" >\r\n                {items.map(item => {\r\n                    const { model, modelId, rootId, voicingId } = item;\r\n                    const instance = new model(modelId, { root: Note.fromId(rootId) });\r\n                    console.log('dpb scale', rootId, instance);\r\n                    return (\r\n                        <>\r\n                            <h3>{item.modelId}</h3>\r\n                            <Fretboard {...getFretboardProps(\r\n                                instance,\r\n                                VOICING_PRESET_MAP.get(voicingId),\r\n                            )} />\r\n                        </>\r\n                    );\r\n                })}\r\n            </Card>\r\n        </StyledPracticePage>\r\n    );\r\n};\r\n\r\nexport default PracticePage;\r\n","import PracticePage from \"../components/practice/PracticePage\";\r\n\r\nexport default PracticePage;\r\n"],"names":["Scale","id","options","undefined","SCALE_PRESET_MAP","getMode","d","rotated","this","podList","ArrayUtils","i","length","curPod","newPods","newIntervals","IntervalSpan","IntervalId","newPod","subtractPods","push","newIvl","fromValue","getAllModes","modes","tags","includes","ScaleTag","getNumeral","curIntervals","curD","NumberUtils","curIvl","intervals","pod","numeral","Chord","root","applyRoot","notes","getAllNumerals","numerals","PodList","value","Model","SCALE_PRESETS","arePodListsEqual","reducePodList","StyledPracticePage","styled","StyledPageBody","StyledCard","StyledInputRow","useState","NOTE_PRESET_MAP","NoteId","rootPreset","setRootPreset","Note","scale","ScaleId","console","log","items","model","modelId","rootId","voicingId","VoicingId","PageTitle","title","InputRow","label","DropdownInput","NOTE_PRESETS","setValue","p","Card","map","item","instance","Fretboard","getFretboardProps","VOICING_PRESET_MAP"],"sourceRoot":""}