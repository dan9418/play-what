"use strict";(self.webpackChunkplay_what=self.webpackChunkplay_what||[]).push([[334],{5377:function(e,t,n){n.d(t,{Z:function(){return h}});var r=n(7294),a=n(9),i=(n(7207),n(5444)),o=n(4010),c=n(4528),u=a.default.ul.withConfig({displayName:"BreadcrumbList__StyledBreadcrumbList",componentId:"sc-113wbqc-0"})(["font-size:80%;padding:0 0 8px 0;@media(min-width:512px){font-size:110%;padding:0 0 16px 0;}display:flex;flex-wrap:wrap;align-items:center;gap:8px;white-space:nowrap;text-transform:capitalize;svg{margin-right:8px;}span{color:",";}"],(function(e){return e.theme.text.secondary})),l=function(){var e=(0,o.V7)().path.split("/"),t=[];return e.reduce((function(e,n,a,o){var u=(e+"/"+n).replace("//","/")||"/",l=!["root","practice","test","experimental"].includes(n),s=0===a?"Home":n.replaceAll("-"," ").replace(" sharp","#").replace(" flat","b"),d=l?i.rU:"span",h=l?u:void 0;return t.push(r.createElement("li",{key:a},a>0&&r.createElement(c.ZP,{iconId:"next",size:10,color:"grey"}),r.createElement(d,{to:h},s))),u}),"/"),r.createElement(u,null,t.slice(0,t.length-1))},s=n(1774),d=a.default.div.withConfig({displayName:"PageTitle__StyledPageTitle",componentId:"sc-obvm75-0"})(["width:100%;.header{border-bottom:1px solid ",";width:100%;margin:auto;padding-bottom:8px;@media(min-width:512px){padding-bottom:16px;}> h1{width:100%;font-size:150%;@media(min-width:512px){font-size:300%;}text-align:left;color:",";;}> h2{margin-top:4px;width:100%;text-align:left;color:",";;font-size:80%;@media(min-width:512px){font-size:100%;}}}"],(function(e){return e.theme.utils.border}),(function(e){return e.theme.text.primary}),(function(e){return e.theme.text.secondary})),h=function(e){var t=e.title,n=e.subtitle,a=e.children;return r.createElement(r.Fragment,null,r.createElement(s.Z,{title:t}),r.createElement(l,null),r.createElement(d,null,r.createElement("div",{className:"header"},r.createElement("h1",null,t),n&&r.createElement("h2",null,n)),a))}},7275:function(e,t,n){var r=n(5444),a=n(7294),i=n(9).default.form.withConfig({displayName:"SearchBar__StyledSearchBar",componentId:"sc-1je05sb-0"})(["width:100%;.search-bar{width:100%;max-width:512px;display:grid;grid-template-columns:1fr auto;input,button{padding:8px 8px;border-radius:8px;border:1px solid ",";}input{border-radius:8px 0 0 8px;border-right:none;}button{border-radius:0 8px 8px 0;cursor:pointer;color:white;font-weight:bold;background-color:",";border-left:none;padding:8px 16px;display:flex;align-items:center;justify-content:center;}}"],(function(e){return e.theme.utils.border}),(function(e){return e.theme.action.interactive}));t.Z=function(e){var t=e.searchRef,n=e.query,o=e.setQuery,c=e.placeholder,u=(0,a.useState)(""),l=u[0],s=u[1],d=void 0===n?l:n,h=void 0===o?s:o;return a.createElement(i,{role:"search",onSubmit:function(e){e.preventDefault();var t=e.target.elements.query.value,n=new URLSearchParams({query:t}),a="/search/"+(n?"?"+n.toString():"");return(0,r.c4)(a),!1}},a.createElement("div",{className:"search-bar"},a.createElement("input",{type:"search",id:"site-search",name:"query",ref:t,onChange:function(e){h(e.target.value)},value:d,placeholder:c||"Search the site..."}),a.createElement("button",{type:"submit"},"Search")))}},6700:function(e,t,n){n.d(t,{rg:function(){return c},Ol:function(){return u}});var r=n(5245),a=n(7294),i=n(9),o=["title","action","children"],c=i.default.div.withConfig({displayName:"Card__StyledCard",componentId:"sc-c2yhvp-0"})(["background:",";width:100%;border-radius:16px;padding:16px;.header{margin-bottom:16px;display:flex;align-items:center;justify-content:space-between;}"],(function(e){return e.theme.surface.card})),u=function(e){var t=e.title,n=e.action,r=void 0===n?null:n;return a.createElement("div",{className:"header"},a.createElement("h2",null,t),r)};t.ZP=function(e){var t=e.title,n=e.action,i=e.children,l=(0,r.Z)(e,o);return a.createElement(c,l,t&&a.createElement(u,{title:t,action:n}),i)}},3932:function(e,t,n){n.r(t),n.d(t,{default:function(){return Z}});var r=n(7294),a=n(9),i=n(9339),o=n(1244),c=n(5377),u=n(6700),l=n(7275),s=n(5444),d=n(3686),h=n(3433),p=(n(7207),n(8891)),m=n(7656),f=function(e,t,n){return"/browse/"+e+"/"+t+(n?"/root/"+n+"/":"")},g=function(e,t,n){switch(e){case p.ww.Chord:return(n||"")+" "+t+" Chord";case p.ww.Scale:return(n||"")+" "+t+" Scale";default:return(n||"")+" "+t}},b=[{text:"Browse",to:"/browse",keywords:["all","chord","scale","browse"]},{text:"All Chords",to:"/browse/chords",keywords:["all","chord"]},{text:"All Scales",to:"/browse/scales",keywords:["all","scale","mode"]}],x=/\b[A-G](b|\sflat|\ssharp)*\b/gi,w=/\b[A-G]b\b/gi,v=function(e,t){var n=function(e){var t=[];return e.match(/maj|major/)&&t.push(p.Vp.Major),e.match(/min|minor/)&&t.push(p.Vp.Minor),e.match(/triad|chord/)&&t.push(p.Vp.Triad),e.match(/aug|augmented/)&&t.push(p.Vp.Augmented),e.match(/dim|diminished/)&&t.push(p.Vp.Diminished),e.match(/sus|suspended/)&&t.push(p.Vp.Suspended),e.match(/dom|dominant/)&&t.push(p.Vp.Dominant),e.match(/pent|pentatonic/)&&t.push(p.Vp.Pentatonic),e.match(/hex|hexatonic/)&&t.push(p.Vp.Hexatonic),e.match(/oct|octatonic/)&&t.push(p.Vp.Octatonic),e.match(/dia|diatonic/)&&t.push(p.Vp.Diatonic),e.match(/2|2nd|two|second/)&&t.push(p.Vp.Second),e.match(/3|3rd|three|third/)&&t.push(p.Vp.Third),e.match(/4|4th|four|fourth/)&&t.push(p.Vp.Fourth),e.match(/5|5th|five|fifth/)&&t.push(p.Vp.Fifth),e.match(/6|6th|six|sixth/)&&t.push(p.Vp.Sixth),e.match(/7|7th|seven|seventh/)&&t.push(p.Vp.Seventh),e.match(/beb|bebop/)&&t.push(p.Vp.Bebop),e.match(/blu|blues/)&&t.push(p.Vp.Blues),e.match(/mel|melodic|minor/)&&t.push(p.Vp.MelodicMode),e.match(/harm|harmonic|minor/)&&t.push(p.Vp.HarmonicMode),t}(e);return m.cI.filter((function(e){return!(t&&e.modelId!==t)})).map((function(t){return function(e,t,n){var r=0;return t.match(e.name.toLowerCase())&&(r=100),e.name.toLowerCase().match(new RegExp(t.split(" ").join("|"),"gi"))&&(r+=50),r+=n.filter((function(t){return e.tags.some((function(e){return e===t}))})).length,Object.assign({},e,{score:r})}(t,e,n)}))},y=function(e){if(!e)return b;var t=function(e){return e.trim().toLowerCase().replaceAll("#","-sharp").replaceAll(w,(function(e){return e.charAt(0)+"-flat"})).replaceAll(/[^A-Z1-9]/gi," ")}(e),n=function(e){var t=e.match(x);if(t&&t.length)return t[0].replaceAll(" ","-")}(t),r=function(e){return e.match("chord")?p.ww.Chord:e.match("scale")?p.ww.Scale:void 0}(t),a=function(e,t){return e.filter((function(e){return t||e.score})).sort((function(e,t){return t.score-e.score}))}(v(t,r),n),i=function(e,t){return e.map((function(e){var n=t?m.nq.get(t).name:void 0;return{text:g(e.modelId,e.name,n),to:f(e.modelId,e.id,t),aliases:e.aliases,modelId:e.modelId}}))}(a,n),o=function(e){for(var t=[],n=function(n){var r=e[n];t.push(r),r.aliases&&r.aliases.forEach((function(e){return t.push({to:r.to,text:e+" "+(r.modelId===p.ww.Chord?" Chord":" Scale")})}))},r=0;r<e.length;r++)n(r);return t}(i),c=b.filter((function(e){return function(e,t){return void 0===e&&(e=""),t.some((function(t){return e.match(new RegExp(t,"gi"))}))}(t,e.keywords)}));return[].concat((0,h.Z)(o),(0,h.Z)(c))},E=n(3990),S=a.default.div.withConfig({displayName:"FilterList__StyledFilterList",componentId:"sc-8wtsdd-0"})(["border:1px solid ",";border-radius:8px;padding:8px;margin-bottom:16px;.top{display:flex;align-items:center;justify-content:space-between;}ul{display:flex;flex-wrap:wrap;align-items:center;justify-content:center;gap:8px;> li{margin:0  !important;list-style-type:none !important;}button{background-color:",";;border:1px solid ",";;color:",";padding:4px 8px;font-size:80%;:hover{background-color:",";}&.active{color:",";;background-color:",";}:disabled{color:",";background-color:",";cursor:not-allowed;}}}"],(function(e){return e.theme.action.interactive}),(function(e){return e.theme.utils.transparent}),(function(e){return e.theme.action.interactive}),(function(e){return e.theme.action.interactive}),(function(e){return e.theme.utils.hoverDark}),(function(e){return e.theme.text.inverted}),(function(e){return e.theme.action.interactive}),(function(e){return e.theme.text.inverted}),(function(e){return e.theme.text.secondary})),k=function(e){var t=e.tags,n=e.availableTags,a=e.selectedTags,i=e.setSelectedTags;return r.createElement(S,null,!1,r.createElement("ul",null,t.map((function(e){return r.createElement("li",{key:e},r.createElement(E.Z,{onClick:function(){return function(e){a.includes(e)?i(a.filter((function(t){return t!==e}))):i([].concat((0,h.Z)(a),[e]))}(e)},className:a.includes(e)?"active":"",disabled:!n.includes(e)},e))}))))},C=a.default.ul.withConfig({displayName:"SearchResultsCard__StyledSearchResultsList",componentId:"sc-jtbm82-0"})(["  font-size:110%;li a{padding:4px 0;display:block;&:focus,&:hover{padding:8px;background-color:",";color:white;border-radius:8px;}}"],(function(e){return e.theme.action.interactive})),V=[],I=function(e){var t=e.resultsRef,n=e.query,a=(0,r.useState)(!1),i=a[0],o=(a[1],(0,r.useState)([])),c=o[0],l=o[1],h=y(n),p=new Set;V.forEach((function(e){e.to.includes("root")||e.tags.forEach((function(e){return p.add(e)}))}));var m=d.Z.setToArray(p)||[];return r.createElement(u.ZP,{title:n?"Results":"Popular Pages",action:null},i&&r.createElement(k,{tags:m,availableTags:[],selectedTags:c,setSelectedTags:l}),r.createElement(C,null,h.map((function(e,n){return r.createElement("li",{key:e.text},r.createElement(s.rU,{id:"search-result="+n,to:e.to,ref:0===n?t:void 0,onKeyDown:function(t){if(t.preventDefault(),"Enter"===t.key&&(0,s.c4)(e.to),"ArrowDown"===t.key){var r=document.getElementById("search-result="+(n+1));r&&r.focus()}if("ArrowUp"===t.key){var a=document.getElementById("search-result="+(n-1));a&&a.focus()}}},e.text))}))))},_=((0,a.default)(E.Z).withConfig({displayName:"SearchResultsCard___StyledButtonInput",componentId:"sc-jtbm82-1"})(["color:",";background-color:transparent;text-decoration:underline;&.active{color:white;background-color:",";}"],(function(e){return e.theme.action.interactive}),(function(e){return e.theme.action.interactive})),(0,a.default)(o.v).withConfig({displayName:"SearchPage__StyledSearchPage",componentId:"sc-i4yp4k-0"})(["","{max-width:768px;margin:auto;}.search-bar{margin:32px auto;}"],u.rg)),Z=function(){var e=(0,i.Wd)("query")[0],t=(0,r.useState)(e||""),n=t[0],a=t[1],o=(0,r.useRef)(),u=(0,r.useRef)();return(0,r.useEffect)((function(){var t=(e?u:o).current;t&&t.focus()}),[]),r.createElement(_,null,r.createElement(c.Z,{title:"Search"}),r.createElement(l.Z,{searchRef:o,query:n,setQuery:a}),r.createElement(I,{resultsRef:u,query:n}))}}}]);
//# sourceMappingURL=component---src-pages-search-tsx-c23453e753a1e2887cb6.js.map