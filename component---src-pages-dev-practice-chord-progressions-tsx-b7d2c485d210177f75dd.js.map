{"version":3,"file":"component---src-pages-dev-practice-chord-progressions-tsx-b7d2c485d210177f75dd.js","mappings":"mPAUqBA,EAAAA,SAAAA,GAIjB,WAAYC,EAAaC,GAAsB,IAAD,kBAArBA,IAAAA,OAAUC,IAC/B,cAAMC,EAAAA,GAAkBH,EAAIC,IAA5B,MAHJG,QAAUC,EAAAA,GAAAA,MAEoC,GAJ7BN,EAAAA,EAAAA,GAAAA,EAAAA,GAMhB,kBA2EA,OA3EA,EAIDO,QAAA,SAAQC,GACJ,IAAIC,GAAO,OAAOC,KAAKC,SACvBF,EAAUG,EAAAA,EAAAA,OAAkBH,EAASD,GACrC,IAAK,IAAIK,EAAKH,KAAKC,QAAQG,OAASN,EAAIK,EAAIJ,EAAQK,OAAQD,IAAK,CAC7D,IAAME,EAASN,EAAQI,GACvBJ,EAAQI,GAAK,CAACE,EAAO,GAAK,GAAIA,EAAO,GAAK,GAK9C,IAFA,IAAMC,EAAkB,CAAC,CAAC,EAAG,IACvBC,EAAe,CAAC,IAAIC,EAAAA,EAAaC,EAAAA,GAAAA,KAC9BN,EAAI,EAAGA,EAAIJ,EAAQK,OAAS,EAAGD,IAAK,CACzC,IAAMO,GAASC,EAAAA,EAAAA,IAAaZ,EAAQI,EAAI,GAAIJ,EAAQ,IACpDO,EAAQM,KAAKF,GACb,IAAMG,EAASL,EAAAA,EAAAA,UAAuBE,GACtCH,EAAaK,KAAKC,GAQtB,OANavB,EAAMwB,UAAUR,IAOhC,EAEDS,YAAA,WACI,IAAMC,EAAQ,GACd,GAAIhB,KAAKiB,KAAKC,SAASC,EAAAA,GAAAA,WACnBnB,KAAKiB,KAAKC,SAASC,EAAAA,GAAAA,aACnBnB,KAAKiB,KAAKC,SAASC,EAAAA,GAAAA,cACnBnB,KAAKiB,KAAKC,SAASC,EAAAA,GAAAA,cAEnB,IAAK,IAAIhB,EAAI,EAAGA,EAAIH,KAAKC,QAAQG,OAAQD,IACrCa,EAAMJ,KAAKZ,KAAKH,QAAQM,IAGhC,OAAOa,GACV,EAEDI,WAAA,SAAWtB,GAGP,IADA,IAAMuB,EAAe,GACZlB,EAAI,EAAGA,EAAIH,KAAKC,QAAQG,OAAQD,GAAQ,EAAG,CAChD,IAAMmB,EAAOC,EAAAA,EAAAA,UAAsBzB,EAAGK,EAAGH,KAAKC,QAAQG,QAChDoB,EAASxB,KAAKyB,UAAUH,GAC9BD,EAAaT,KAAKY,GAKtB,IAFA,IAAMlB,EAAkB,CAAC,CAAC,EAAG,IAEpBH,EAAI,EAAGA,EAAIkB,EAAajB,OAAS,EAAGD,IAAK,CAC9C,IAAMO,GAASC,EAAAA,EAAAA,IAAaU,EAAalB,EAAI,GAAGuB,IAAKL,EAAa,GAAGK,KACrEpB,EAAQM,KAAKF,GAIjB,IAAMiB,EAAUC,EAAAA,EAAAA,UAAgBtB,GAIhC,OAHIN,KAAK6B,MACLF,EAAQG,UAAU9B,KAAK+B,MAAMjC,IAE1B6B,GACV,EAEDK,eAAA,WACI,IAAMC,EAAW,GACjB,GAAIjC,KAAKiB,KAAKC,SAASC,EAAAA,GAAAA,UACnB,IAAK,IAAIhB,EAAI,EAAGA,EAAIH,KAAKC,QAAQG,OAAQD,IACrC8B,EAASrB,KAAKZ,KAAKoB,WAAWjB,IAGtC,OAAO8B,GACV,EAjFgB3C,C,QAAc4C,GAAd5C,EAQVwB,UAAY,SAACqB,GAAD,OAAmBC,EAAAA,EAAAA,UAAgBC,EAAAA,GAAe/C,EAAO6C,EAAOG,EAAAA,GAAkBC,EAAAA,M,mOCDnGC,GAAkBC,EAAAA,EAAAA,SAAOC,EAAAA,GAAV,4FAAGD,CAAH,oFAEfE,EAAAA,GAAeC,EAAAA,GCjBrB,ED8BiC,WAC7B,OAAoCC,EAAAA,EAAAA,UAASC,EAAAA,GAAAA,IAAoBC,EAAAA,GAAAA,IAA1DC,EAAP,KAAmBC,EAAnB,KAEMpB,EAAO,IAAIqB,EAAAA,EAAKF,EAAWb,OAC3BgB,EAAa,IAAI7D,EAAAA,EAAM8D,EAAAA,GAAAA,OAAgB,CAAEvB,KAAAA,IACzCwB,EAAa,IAAI/D,EAAAA,EAAM8D,EAAAA,GAAAA,OAAgB,CAAEvB,KAAAA,IAE/CyB,QAAQC,IAAI,iBAAkBP,GAE9B,IAAMQ,EAAa,CACf,CACIC,MAAO7B,EAAAA,EACPjC,QAAS+D,EAAAA,EAAAA,KACTC,OAAQR,EAAWpB,MAAM,GAAGxC,GAC5BqE,UAAW,MAEf,CACIH,MAAO7B,EAAAA,EACPjC,QAAS+D,EAAAA,EAAAA,KACTC,OAAQR,EAAWpB,MAAM,GAAGxC,GAC5BqE,UAAW,MAEf,CACIH,MAAO7B,EAAAA,EACPjC,QAAS+D,EAAAA,EAAAA,KACTC,OAAQR,EAAWpB,MAAM,GAAGxC,GAC5BqE,UAAW,OAIbC,EAAa,CACf,CACIJ,MAAO7B,EAAAA,EACPjC,QAAS+D,EAAAA,EAAAA,SACTC,OAAQN,EAAWtB,MAAM,GAAGxC,GAC5BqE,UAAW,MAEf,CACIH,MAAO7B,EAAAA,EACPjC,QAAS+D,EAAAA,EAAAA,KACTC,OAAQN,EAAWtB,MAAM,GAAGxC,GAC5BqE,UAAW,MAEf,CACIH,MAAO7B,EAAAA,EACPjC,QAAS+D,EAAAA,EAAAA,KACTC,OAAQN,EAAWtB,MAAM,GAAGxC,GAC5BqE,UAAW,OAInB,OACI,gBAACpB,EAAD,KACI,gBAACsB,EAAA,EAAD,CAAWC,MAAM,uBACjB,gBAACC,EAAA,EAAD,CAAUC,MAAM,QACZ,gBAACC,EAAA,EAAD,CAAe1E,QAAS2E,EAAAA,GAAchC,MAAOa,EAAYoB,SAAU,SAAAC,GAC/DpB,EAAcoB,OAGtB,gBAACC,EAAA,GAAD,CAAMP,MAAM,gBACR,6BACI,6BACI,0BACI,gCACA,+BACA,iCAGR,6BACI,0BACKP,EAAWe,KAAI,SAAAC,GACZ,MAA8CA,EAAtCf,EAAR,EAAQA,MAAO9D,EAAf,EAAeA,QAASgE,EAAxB,EAAwBA,OAAQC,EAAhC,EAAgCA,UAC1Ba,EAAW,IAAIhB,EAAM9D,EAAS,CAAEkC,KAAMqB,EAAAA,EAAAA,OAAYS,KAExD,OACI,sBAAIe,IAAK/E,GACL,0BAAKA,GACL,gBAACgF,EAAA,EAAD,kBACQC,EAAAA,EAAAA,IACAH,EACAb,EAAYiB,EAAAA,GAAAA,IAAuBjB,QAAanE,GAHxD,CAKIqF,UAAW,CAAC,EAAG,YAMnC,0BACK5E,EAAAA,EAAAA,OAAA,UAAsBsD,GAAa,GAAGe,KAAI,SAAAC,GACvC,MAA8CA,EAAtCf,EAAR,EAAQA,MAAO9D,EAAf,EAAeA,QAASgE,EAAxB,EAAwBA,OAAQC,EAAhC,EAAgCA,UAC1Ba,EAAW,IAAIhB,EAAM9D,EAAS,CAAEkC,KAAMqB,EAAAA,EAAAA,OAAYS,KAExD,OACI,sBAAIe,IAAK/E,GACL,0BAAKA,GACL,gBAACgF,EAAA,EAAD,kBACQC,EAAAA,EAAAA,IACAH,EACAb,EAAYiB,EAAAA,GAAAA,IAAuBjB,QAAanE,GAHxD,CAKIqF,UAAW,CAAC,EAAG,eAS/C,gBAACR,EAAA,GAAD,CAAMP,MAAM,gBACR,6BACI,6BACI,0BACI,gCACA,+BACA,iCAGR,6BACI,0BACKF,EAAWU,KAAI,SAAAC,GACZ,MAA8CA,EAAtCf,EAAR,EAAQA,MAAO9D,EAAf,EAAeA,QAASgE,EAAxB,EAAwBA,OAAQC,EAAhC,EAAgCA,UAC1Ba,EAAW,IAAIhB,EAAM9D,EAAS,CAAEkC,KAAMqB,EAAAA,EAAAA,OAAYS,KAExD,OACI,sBAAIe,IAAK/E,GACL,0BAAKA,GACL,gBAACgF,EAAA,EAAD,kBACQC,EAAAA,EAAAA,IACAH,EACAb,EAAYiB,EAAAA,GAAAA,IAAuBjB,QAAanE,GAHxD,CAKIqF,UAAW,CAAC,EAAG,YAMnC,0BACK5E,EAAAA,EAAAA,OAAA,UAAsB2D,GAAa,GAAGU,KAAI,SAAAC,GACvC,MAA8CA,EAAtCf,EAAR,EAAQA,MAAO9D,EAAf,EAAeA,QAASgE,EAAxB,EAAwBA,OAAQC,EAAhC,EAAgCA,UAC1Ba,EAAW,IAAIhB,EAAM9D,EAAS,CAAEkC,KAAMqB,EAAAA,EAAAA,OAAYS,KAExD,OACI,sBAAIe,IAAK/E,GACL,0BAAKA,GACL,gBAACgF,EAAA,EAAD,kBACQC,EAAAA,EAAAA,IACAH,EACAb,EAAYiB,EAAAA,GAAAA,IAAuBjB,QAAanE,GAHxD,CAKIqF,UAAW,CAAC,EAAG","sources":["webpack://play-what/./src/core/models/Scale.ts","webpack://play-what/./src/components/pages/dev/ChordProgressionsPage.tsx","webpack://play-what/./src/pages/dev/practice/chord-progressions.tsx"],"sourcesContent":["import IntervalSpan from '@pw-core/models/Interval';\r\nimport ArrayUtils from '../general/Array.utils';\r\nimport NumberUtils from '../general/Number.utils';\r\nimport Chord from './Chord';\r\nimport Model from './Model';\r\nimport { IntervalId, IPod, ModelId, ScaleId, Tag } from './Model.constants';\r\nimport { SCALE_PRESETS, SCALE_PRESET_MAP } from './Model.presets';\r\nimport { arePodListsEqual, reducePodList, subtractPods } from './Pod.static';\r\nimport PodList from './PodList';\r\n\r\nexport default class Scale extends PodList {\r\n\r\n    modelId = ModelId.Scale;\r\n\r\n    constructor(id: ScaleId, options = undefined) {\r\n        super(SCALE_PRESET_MAP, id, options);\r\n    }\r\n\r\n    static fromValue = (value: IPod[]) => Model.fromValue(SCALE_PRESETS, Scale, value, arePodListsEqual, reducePodList);\r\n\r\n    getMode(d) {\r\n        let rotated = [...this.podList];\r\n        rotated = ArrayUtils.rotate(rotated, d);\r\n        for (let i = (this.podList.length - d); i < rotated.length; i++) {\r\n            const curPod = rotated[i];\r\n            rotated[i] = [curPod[0] + 12, curPod[1] + 7];\r\n        }\r\n        // Get difference between each interval\r\n        const newPods: IPod[] = [[0, 0]];\r\n        const newIntervals = [new IntervalSpan(IntervalId.P1)];\r\n        for (let i = 0; i < rotated.length - 1; i++) {\r\n            const newPod = subtractPods(rotated[i + 1], rotated[0])\r\n            newPods.push(newPod);\r\n            const newIvl = IntervalSpan.fromValue(newPod);\r\n            newIntervals.push(newIvl);\r\n        }\r\n        const mode = Scale.fromValue(newPods);\r\n\r\n        /*if (this.root) {\r\n            numeral.applyRoot(this.notes[d]);\r\n            console.log('dpb num root', numeral);\r\n        }*/\r\n        return mode;\r\n    };\r\n\r\n    getAllModes() {\r\n        const modes = [];\r\n        if (this.tags.includes(Tag.Diatonic) ||\r\n            this.tags.includes(Tag.Pentatonic) ||\r\n            this.tags.includes(Tag.MelodicMode) ||\r\n            this.tags.includes(Tag.HarmonicMode)\r\n        ) {\r\n            for (let i = 0; i < this.podList.length; i++) {\r\n                modes.push(this.getMode(i));\r\n            }\r\n        }\r\n        return modes;\r\n    };\r\n\r\n    getNumeral(d) {\r\n        // Get every other interval\r\n        const curIntervals = [];\r\n        for (let i = 0; i < this.podList.length; i = i + 2) {\r\n            const curD = NumberUtils.moduloSum(d, i, this.podList.length);\r\n            const curIvl = this.intervals[curD];\r\n            curIntervals.push(curIvl);\r\n        }\r\n        // Get difference between each interval\r\n        const newPods: IPod[] = [[0, 0]];\r\n        //const newIntervals = [new IntervalSpan(IntervalId.P1)];\r\n        for (let i = 0; i < curIntervals.length - 1; i++) {\r\n            const newPod = subtractPods(curIntervals[i + 1].pod, curIntervals[0].pod)\r\n            newPods.push(newPod);\r\n            //const newIvl = IntervalSpan.fromValue(newPod);\r\n            //newIntervals.push(newIvl);\r\n        }\r\n        const numeral = Chord.fromValue(newPods);\r\n        if (this.root) {\r\n            numeral.applyRoot(this.notes[d]);\r\n        }\r\n        return numeral;\r\n    };\r\n\r\n    getAllNumerals() {\r\n        const numerals = [];\r\n        if (this.tags.includes(Tag.Diatonic)) {\r\n            for (let i = 0; i < this.podList.length; i++) {\r\n                numerals.push(this.getNumeral(i));\r\n            }\r\n        }\r\n        return numerals;\r\n    };\r\n}\r\n","import React, { useState } from \"react\";\r\nimport styled from 'styled-components';\r\nimport ArrayUtils from \"../../../core/general/Array.utils\";\r\nimport Chord from \"../../../core/models/Chord\";\r\nimport { ChordId, NoteId, ScaleId } from \"../../../core/models/Model.constants\";\r\nimport { NOTE_PRESETS, NOTE_PRESET_MAP } from \"../../../core/models/Model.presets\";\r\nimport Note from \"../../../core/models/Note\";\r\nimport Scale from \"../../../core/models/Scale\";\r\nimport Fretboard from \"../../../viewers/fretboard/Fretboard\";\r\nimport { getFretboardProps } from \"../../../viewers/fretboard/Fretboard.utils\";\r\nimport { VOICING_PRESET_MAP } from \"../../../viewers/fretboard/Fretboard.voicing\";\r\nimport DropdownInput from \"../../inputs/DropdownInput\";\r\nimport { StyledPageBody } from \"../../layout/PageBody\";\r\nimport PageTitle from \"../../layout/PageTitle\";\r\nimport Card, { StyledCard } from \"../../ui/Card\";\r\nimport InputRow, { StyledInputRow } from \"../../ui/InputRow\";\r\n\r\nconst StyledCAGEDPage = styled(StyledPageBody)`\r\n\t    \r\n    ${StyledCard}, ${StyledInputRow} {\r\n        margin-top: 16px;\r\n        table {\r\n            width: 100%;\r\n\r\n            td {\r\n                width: 33%;\r\n                padding: 24px 2px 16px;\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nconst CAGEDPage: React.FC<any> = () => {\r\n    const [rootPreset, setRootPreset] = useState(NOTE_PRESET_MAP.get(NoteId.C));\r\n\r\n    const root = new Note(rootPreset.value);\r\n    const majorScale = new Scale(ScaleId.Ionian, { root });\r\n    const minorScale = new Scale(ScaleId.Ionian, { root });\r\n\r\n    console.log('dpb rootPreset', rootPreset);\r\n\r\n    const majorItems = [\r\n        {\r\n            model: Chord,\r\n            modelId: ChordId.Min7,\r\n            rootId: majorScale.notes[1].id,\r\n            voicingId: null\r\n        },\r\n        {\r\n            model: Chord,\r\n            modelId: ChordId.Dom7,\r\n            rootId: majorScale.notes[4].id,\r\n            voicingId: null\r\n        },\r\n        {\r\n            model: Chord,\r\n            modelId: ChordId.Maj7,\r\n            rootId: majorScale.notes[0].id,\r\n            voicingId: null\r\n        }\r\n    ];\r\n\r\n    const minorItems = [\r\n        {\r\n            model: Chord,\r\n            modelId: ChordId.HalfDim7,\r\n            rootId: minorScale.notes[2].id,\r\n            voicingId: null\r\n        },\r\n        {\r\n            model: Chord,\r\n            modelId: ChordId.Min7,\r\n            rootId: minorScale.notes[4].id,\r\n            voicingId: null\r\n        },\r\n        {\r\n            model: Chord,\r\n            modelId: ChordId.Min7,\r\n            rootId: minorScale.notes[0].id,\r\n            voicingId: null\r\n        }\r\n    ];\r\n\r\n    return (\r\n        <StyledCAGEDPage>\r\n            <PageTitle title=\"Chord Progressions\" />\r\n            <InputRow label=\"Root\">\r\n                <DropdownInput options={NOTE_PRESETS} value={rootPreset} setValue={p => {\r\n                    setRootPreset(p);\r\n                }} />\r\n            </InputRow>\r\n            <Card title=\"Major II-V-I\" >\r\n                <table>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>II</th>\r\n                            <th>V</th>\r\n                            <th>I</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr >\r\n                            {majorItems.map(item => {\r\n                                const { model, modelId, rootId, voicingId } = item as any;\r\n                                const instance = new model(modelId, { root: Note.fromId(rootId) });\r\n\r\n                                return (\r\n                                    <td key={modelId}>\r\n                                        <h3>{modelId}</h3>\r\n                                        <Fretboard\r\n                                            {...getFretboardProps(\r\n                                                instance,\r\n                                                voicingId ? VOICING_PRESET_MAP.get(voicingId) : undefined,\r\n                                            )}\r\n                                            fretRange={[1, 14]}\r\n                                        />\r\n                                    </td>\r\n                                );\r\n                            })}\r\n                        </tr>\r\n                        <tr >\r\n                            {ArrayUtils.rotate([...majorItems], 1).map(item => {\r\n                                const { model, modelId, rootId, voicingId } = item as any;\r\n                                const instance = new model(modelId, { root: Note.fromId(rootId) });\r\n\r\n                                return (\r\n                                    <td key={modelId}>\r\n                                        <h3>{modelId}</h3>\r\n                                        <Fretboard\r\n                                            {...getFretboardProps(\r\n                                                instance,\r\n                                                voicingId ? VOICING_PRESET_MAP.get(voicingId) : undefined,\r\n                                            )}\r\n                                            fretRange={[1, 14]}\r\n                                        />\r\n                                    </td>\r\n                                );\r\n                            })}\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </Card>\r\n            <Card title=\"Minor ii-v-i\" >\r\n                <table>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>ii</th>\r\n                            <th>v</th>\r\n                            <th>i</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr >\r\n                            {minorItems.map(item => {\r\n                                const { model, modelId, rootId, voicingId } = item as any;\r\n                                const instance = new model(modelId, { root: Note.fromId(rootId) });\r\n\r\n                                return (\r\n                                    <td key={modelId}>\r\n                                        <h3>{modelId}</h3>\r\n                                        <Fretboard\r\n                                            {...getFretboardProps(\r\n                                                instance,\r\n                                                voicingId ? VOICING_PRESET_MAP.get(voicingId) : undefined,\r\n                                            )}\r\n                                            fretRange={[1, 14]}\r\n                                        />\r\n                                    </td>\r\n                                );\r\n                            })}\r\n                        </tr>\r\n                        <tr>\r\n                            {ArrayUtils.rotate([...minorItems], 1).map(item => {\r\n                                const { model, modelId, rootId, voicingId } = item as any;\r\n                                const instance = new model(modelId, { root: Note.fromId(rootId) });\r\n\r\n                                return (\r\n                                    <td key={modelId}>\r\n                                        <h3>{modelId}</h3>\r\n                                        <Fretboard\r\n                                            {...getFretboardProps(\r\n                                                instance,\r\n                                                voicingId ? VOICING_PRESET_MAP.get(voicingId) : undefined,\r\n                                            )}\r\n                                            fretRange={[1, 14]}\r\n                                        />\r\n                                    </td>\r\n                                );\r\n                            })}\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </Card>\r\n        </StyledCAGEDPage>\r\n    );\r\n};\r\n\r\nexport default CAGEDPage;\r\n","import ChordProgressionsPage from \"../../../components/pages/dev/ChordProgressionsPage\";\r\n\r\nexport default ChordProgressionsPage;\r\n"],"names":["Scale","id","options","undefined","SCALE_PRESET_MAP","modelId","ModelId","getMode","d","rotated","this","podList","ArrayUtils","i","length","curPod","newPods","newIntervals","IntervalSpan","IntervalId","newPod","subtractPods","push","newIvl","fromValue","getAllModes","modes","tags","includes","Tag","getNumeral","curIntervals","curD","NumberUtils","curIvl","intervals","pod","numeral","Chord","root","applyRoot","notes","getAllNumerals","numerals","PodList","value","Model","SCALE_PRESETS","arePodListsEqual","reducePodList","StyledCAGEDPage","styled","StyledPageBody","StyledCard","StyledInputRow","useState","NOTE_PRESET_MAP","NoteId","rootPreset","setRootPreset","Note","majorScale","ScaleId","minorScale","console","log","majorItems","model","ChordId","rootId","voicingId","minorItems","PageTitle","title","InputRow","label","DropdownInput","NOTE_PRESETS","setValue","p","Card","map","item","instance","key","Fretboard","getFretboardProps","VOICING_PRESET_MAP","fretRange"],"sourceRoot":""}