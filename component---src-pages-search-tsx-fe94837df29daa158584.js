"use strict";(self.webpackChunkplay_what=self.webpackChunkplay_what||[]).push([[334],{6985:function(e,t,r){r.d(t,{_:function(){return o}});var n=r(1597),a=r(7294),o=r(1074).default.form.withConfig({displayName:"SearchBar__StyledSearchBar",componentId:"sc-1je05sb-0"})(["width:100%;.search-bar{width:100%;max-width:512px;display:grid;grid-template-columns:1fr auto;input,button{padding:8px 8px;border-radius:8px;border:1px solid ",";}input{border-radius:8px 0 0 8px;border-right:none;}button{border-radius:0 8px 8px 0;cursor:pointer;color:white;font-weight:bold;background-color:",";&:hover{background-color:",";}border-left:none;padding:8px 16px;display:flex;align-items:center;justify-content:center;}}"],(function(e){return e.theme.utils.border}),(function(e){return e.theme.action.interactive}),(function(e){return e.theme.action.active}));t.Z=function(e){var t=e.searchRef,r=e.query,c=e.setQuery,i=e.placeholder,u=(0,a.useState)(""),l=u[0],s=u[1],d=void 0===r?l:r,h=void 0===c?s:c;return a.createElement(o,{role:"search",onSubmit:function(e){e.preventDefault();var t=e.target.elements.query.value,r=new URLSearchParams({query:t}),a="/search/"+(r?"?"+r.toString():"");return(0,n.c4)(a),!1}},a.createElement("div",{className:"search-bar"},a.createElement("input",{type:"search",id:"site-search",name:"query",ref:t,onChange:function(e){h(e.target.value)},value:d,placeholder:i||"Search the site..."}),a.createElement("button",{type:"submit"},"Search")))}},1011:function(e,t,r){r.d(t,{Ol:function(){return u},rg:function(){return i}});var n=r(3366),a=r(7294),o=r(1074),c=["title","subtitle","action","children","level"],i=o.default.div.withConfig({displayName:"Card__StyledCard",componentId:"sc-c2yhvp-0"})(["background:",";width:100%;border-radius:16px;padding:16px;.header{margin-bottom:16px;display:flex;align-items:center;gap:8px;justify-content:space-between;}"],(function(e){return e.theme.surface.card})),u=function(e){var t=e.title,r=e.level,n=void 0===r?2:r,o=e.action,c=void 0===o?null:o,i="h"+n;return a.createElement("div",{className:"header"},a.createElement(i,null,t),c)};t.ZP=function(e){var t=e.title,r=e.subtitle,o=e.action,l=e.children,s=e.level,d=(0,n.Z)(e,c);return a.createElement(i,d,t&&a.createElement(u,{title:t,action:o,level:s}),r&&a.createElement(u,{title:r,level:s+1}),l)}},9625:function(e,t,r){r.r(t),r.d(t,{default:function(){return T}});var n=r(7294),a=r(1074),o=r(9339),c=r(1090),i=r(6985),u=r(1597),l=r(7389),s=(r(7207),r(2982)),d=r(9544),h=r(7254),p=function(e,t,r){return"/browse/"+e+"/"+t+(r?"/root/"+r+"/":"")},m=function(e,t,r){switch(e){case d.BY.Chord:return(r||"")+" "+t+" Chord";case d.BY.Scale:return(r||"")+" "+t+" Scale";default:return(r||"")+" "+t}},f=[{text:"Browse",to:"/browse",keywords:["all","chord","scale","browse"]},{text:"All Chords",to:"/browse/chords",keywords:["all","chord"]},{text:"All Scales",to:"/browse/scales",keywords:["all","scale","mode"]}],g=/\b[A-G](b|\sflat|\ssharp)*\b/gi,v=/\b[A-G]b\b/gi,b=function(e,t){var r=function(e){var t=[];return e.match(/maj|major/)&&t.push(d.Vp.Major),e.match(/min|minor/)&&t.push(d.Vp.Minor),e.match(/triad|chord/)&&t.push(d.Vp.Triad),e.match(/aug|augmented/)&&t.push(d.Vp.Augmented),e.match(/dim|diminished/)&&t.push(d.Vp.Diminished),e.match(/sus|suspended/)&&t.push(d.Vp.Suspended),e.match(/dom|dominant/)&&t.push(d.Vp.Dominant),e.match(/pent|pentatonic/)&&t.push(d.Vp.Pentatonic),e.match(/hex|hexatonic/)&&t.push(d.Vp.Hexatonic),e.match(/oct|octatonic/)&&t.push(d.Vp.Octatonic),e.match(/dia|diatonic/)&&t.push(d.Vp.Diatonic),e.match(/2|2nd|two|second/)&&t.push(d.Vp.Second),e.match(/3|3rd|three|third/)&&t.push(d.Vp.Third),e.match(/4|4th|four|fourth/)&&t.push(d.Vp.Fourth),e.match(/5|5th|five|fifth/)&&t.push(d.Vp.Fifth),e.match(/6|6th|six|sixth/)&&t.push(d.Vp.Sixth),e.match(/7|7th|seven|seventh/)&&t.push(d.Vp.Seventh),e.match(/beb|bebop/)&&t.push(d.Vp.Bebop),e.match(/blu|blues/)&&t.push(d.Vp.Blues),e.match(/mel|melodic|minor/)&&t.push(d.Vp.MelodicMode),e.match(/harm|harmonic|minor/)&&t.push(d.Vp.HarmonicMode),t}(e);return h.cI.filter((function(e){return!(t&&e.modelType!==t)})).map((function(t){return function(e,t,r){var n=0;return t.match(e.name.toLowerCase())&&(n=100),e.name.toLowerCase().match(new RegExp(t.split(" ").join("|"),"gi"))&&(n+=50),n+=r.filter((function(t){return e.tags.some((function(e){return e===t}))})).length,Object.assign({},e,{score:n})}(t,e,r)}))},y=function(e){if(!e)return f;var t=function(e){return e.trim().toLowerCase().replaceAll("#","-sharp").replaceAll(v,(function(e){return e.charAt(0)+"-flat"})).replaceAll(/[^A-Z1-9]/gi," ")}(e),r=function(e){var t=e.match(g);if(t&&t.length)return t[0].replaceAll(" ","-")}(t),n=function(e){return e.match("chord")?d.BY.Chord:e.match("scale")?d.BY.Scale:void 0}(t),a=function(e,t){return e.filter((function(e){return t||e.score})).sort((function(e,t){return t.score-e.score}))}(b(t,n),r),o=function(e,t){return e.map((function(e){var r=t?h.nq.get(t).name:void 0;return{text:m(e.modelType,e.name,r),to:p(e.modelType,e.modelId,t),aliases:e.aliases,modelType:e.modelType}}))}(a,r),c=function(e){for(var t=[],r=function(r){var n=e[r];t.push(n),n.aliases&&n.aliases.forEach((function(e){return t.push({to:n.to,text:e+" "+(n.modelType===d.BY.Chord?" Chord":" Scale")})}))},n=0;n<e.length;n++)r(n);return t}(o),i=f.filter((function(e){return function(e,t){return void 0===e&&(e=""),t.some((function(t){return e.match(new RegExp(t,"gi"))}))}(t,e.keywords)}));return[].concat((0,s.Z)(c),(0,s.Z)(i))},x=r(9042),w=a.default.div.withConfig({displayName:"FilterList__StyledFilterList",componentId:"sc-8wtsdd-0"})(["border:1px solid ",";border-radius:8px;padding:8px;margin-bottom:16px;.top{display:flex;align-items:center;justify-content:space-between;}ul{display:flex;flex-wrap:wrap;align-items:center;justify-content:center;gap:8px;> li{margin:0  !important;list-style-type:none !important;}button{background-color:",";;border:1px solid ",";;color:",";padding:4px 8px;font-size:80%;:hover{background-color:",";}&.active{color:",";;background-color:",";}:disabled{color:",";background-color:",";cursor:not-allowed;}}}"],(function(e){return e.theme.action.interactive}),(function(e){return e.theme.utils.transparent}),(function(e){return e.theme.action.interactive}),(function(e){return e.theme.action.interactive}),(function(e){return e.theme.utils.hoverDark}),(function(e){return e.theme.text.inverted}),(function(e){return e.theme.action.interactive}),(function(e){return e.theme.text.inverted}),(function(e){return e.theme.text.secondary})),S=function(e){var t=e.tags,r=e.availableTags,a=e.selectedTags,o=e.setSelectedTags;return n.createElement(w,null,!1,n.createElement("ul",null,t.map((function(e){return n.createElement("li",{key:e},n.createElement(x.Z,{onClick:function(){return function(e){a.includes(e)?o(a.filter((function(t){return t!==e}))):o([].concat((0,s.Z)(a),[e]))}(e)},className:a.includes(e)?"active":"",disabled:!r.includes(e)},e))}))))},E=r(1011),k=a.default.ul.withConfig({displayName:"SearchResultsCard__StyledSearchResultsList",componentId:"sc-jtbm82-0"})(["  font-size:110%;li a{padding:4px 0;display:block;&:focus,&:hover{padding:8px;background-color:",";color:white;border-radius:8px;}}"],(function(e){return e.theme.action.interactive})),C=[],V=function(e){var t=e.resultsRef,r=e.query,a=(0,n.useState)(!1),o=a[0],c=(a[1],(0,n.useState)([])),i=c[0],s=c[1],d=y(r),h=new Set;C.forEach((function(e){e.to.includes("root")||e.tags.forEach((function(e){return h.add(e)}))}));var p=l.Z.setToArray(h)||[];return n.createElement(E.ZP,{title:r?"Results":"Popular Pages",action:null},o&&n.createElement(S,{tags:p,availableTags:[],selectedTags:i,setSelectedTags:s}),n.createElement(k,null,d.map((function(e,r){return n.createElement("li",{key:e.text},n.createElement(u.rU,{id:"search-result="+r,to:e.to,ref:0===r?t:void 0,onKeyDown:function(t){if(t.preventDefault(),"Enter"===t.key&&(0,u.c4)(e.to),"ArrowDown"===t.key){var n=document.getElementById("search-result="+(r+1));n&&n.focus()}if("ArrowUp"===t.key){var a=document.getElementById("search-result="+(r-1));a&&a.focus()}}},e.text))}))))},_=((0,a.default)(x.Z).withConfig({displayName:"SearchResultsCard___StyledButtonInput",componentId:"sc-jtbm82-1"})(["color:",";background-color:transparent;text-decoration:underline;&.active{color:white;background-color:",";}"],(function(e){return e.theme.action.interactive}),(function(e){return e.theme.action.interactive})),(0,a.default)(c.Z).withConfig({displayName:"searchpage__StyledSearchPage",componentId:"sc-fipgqr-0"})(["","{max-width:768px;margin:auto;}.search-bar{margin:32px auto;}"],E.rg)),T=function(){var e=(0,o.Wd)("query")[0],t=(0,n.useState)(e||""),r=t[0],a=t[1],c=(0,n.useRef)(),u=(0,n.useRef)();return(0,n.useEffect)((function(){var t=(e?u:c).current;t&&t.focus()}),[]),n.createElement(_,{title:"Search"},n.createElement(i.Z,{searchRef:c,query:r,setQuery:a}),n.createElement(V,{resultsRef:u,query:r}))}}}]);
//# sourceMappingURL=component---src-pages-search-tsx-fe94837df29daa158584.js.map