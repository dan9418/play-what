{"version":3,"file":"component---src-components-pages-view-fretboard-page-tsx-3672645c758d099b137d.js","mappings":"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","sources":["webpack://play-what/./node_modules/color-convert/conversions.js","webpack://play-what/./node_modules/color-convert/index.js","webpack://play-what/./node_modules/color-convert/route.js","webpack://play-what/./node_modules/color-name/index.js","webpack://play-what/./node_modules/color-string/index.js","webpack://play-what/./node_modules/color/index.js","webpack://play-what/./src/components/column-manager/ColumnManager.tsx","webpack://play-what/./src/components/inputs/DropdownInput.tsx","webpack://play-what/./src/core/color/Color.utils.ts","webpack://play-what/./src/components/pages/view/CardSection.tsx","webpack://play-what/./src/components/pages/view/DetailsCol.tsx","webpack://play-what/./src/components/inputs/NumericInput.tsx","webpack://play-what/./src/components/pages/view/FretboardCol.tsx","webpack://play-what/./src/components/layout/Modal.tsx","webpack://play-what/./src/components/pages/view/MainCol.tsx","webpack://play-what/./src/components/pages/view/MaximizeButton.tsx","webpack://play-what/./src/components/inputs/ColorSchemeInput.tsx","webpack://play-what/./src/components/pages/view/NotesCol.tsx","webpack://play-what/./src/components/pages/view/useModelQueryParams.tsx","webpack://play-what/./src/components/pages/view/useModelState.tsx","webpack://play-what/./src/components/pages/view/fretboard.page.tsx","webpack://play-what/./src/components/ui/Card.tsx","webpack://play-what/./src/components/ui/InputRow.tsx","webpack://play-what/./src/components/ui/Table.tsx","webpack://play-what/./src/core/routing/Routing.utils.ts","webpack://play-what/./src/viewers/fret-table/FretFlag.tsx","webpack://play-what/./src/viewers/fret-table/FretTable.tsx","webpack://play-what/./src/viewers/fretboard/Fretboard.tuning.ts","webpack://play-what/./src/viewers/fretboard/Fretboard.utils.ts","webpack://play-what/./src/viewers/fretboard/Fretboard.voicing.ts","webpack://play-what/./node_modules/simple-swizzle/index.js","webpack://play-what/./node_modules/simple-swizzle/node_modules/is-arrayish/index.js"],"sourcesContent":["/* MIT license */\n/* eslint-disable no-mixed-operators */\nconst cssKeywords = require('color-name');\n\n// NOTE: conversions should only return primitive values (i.e. arrays, or\n//       values that give correct `typeof` results).\n//       do not use box values types (i.e. Number(), String(), etc.)\n\nconst reverseKeywords = {};\nfor (const key of Object.keys(cssKeywords)) {\n\treverseKeywords[cssKeywords[key]] = key;\n}\n\nconst convert = {\n\trgb: {channels: 3, labels: 'rgb'},\n\thsl: {channels: 3, labels: 'hsl'},\n\thsv: {channels: 3, labels: 'hsv'},\n\thwb: {channels: 3, labels: 'hwb'},\n\tcmyk: {channels: 4, labels: 'cmyk'},\n\txyz: {channels: 3, labels: 'xyz'},\n\tlab: {channels: 3, labels: 'lab'},\n\tlch: {channels: 3, labels: 'lch'},\n\thex: {channels: 1, labels: ['hex']},\n\tkeyword: {channels: 1, labels: ['keyword']},\n\tansi16: {channels: 1, labels: ['ansi16']},\n\tansi256: {channels: 1, labels: ['ansi256']},\n\thcg: {channels: 3, labels: ['h', 'c', 'g']},\n\tapple: {channels: 3, labels: ['r16', 'g16', 'b16']},\n\tgray: {channels: 1, labels: ['gray']}\n};\n\nmodule.exports = convert;\n\n// Hide .channels and .labels properties\nfor (const model of Object.keys(convert)) {\n\tif (!('channels' in convert[model])) {\n\t\tthrow new Error('missing channels property: ' + model);\n\t}\n\n\tif (!('labels' in convert[model])) {\n\t\tthrow new Error('missing channel labels property: ' + model);\n\t}\n\n\tif (convert[model].labels.length !== convert[model].channels) {\n\t\tthrow new Error('channel and label counts mismatch: ' + model);\n\t}\n\n\tconst {channels, labels} = convert[model];\n\tdelete convert[model].channels;\n\tdelete convert[model].labels;\n\tObject.defineProperty(convert[model], 'channels', {value: channels});\n\tObject.defineProperty(convert[model], 'labels', {value: labels});\n}\n\nconvert.rgb.hsl = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst min = Math.min(r, g, b);\n\tconst max = Math.max(r, g, b);\n\tconst delta = max - min;\n\tlet h;\n\tlet s;\n\n\tif (max === min) {\n\t\th = 0;\n\t} else if (r === max) {\n\t\th = (g - b) / delta;\n\t} else if (g === max) {\n\t\th = 2 + (b - r) / delta;\n\t} else if (b === max) {\n\t\th = 4 + (r - g) / delta;\n\t}\n\n\th = Math.min(h * 60, 360);\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tconst l = (min + max) / 2;\n\n\tif (max === min) {\n\t\ts = 0;\n\t} else if (l <= 0.5) {\n\t\ts = delta / (max + min);\n\t} else {\n\t\ts = delta / (2 - max - min);\n\t}\n\n\treturn [h, s * 100, l * 100];\n};\n\nconvert.rgb.hsv = function (rgb) {\n\tlet rdif;\n\tlet gdif;\n\tlet bdif;\n\tlet h;\n\tlet s;\n\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst v = Math.max(r, g, b);\n\tconst diff = v - Math.min(r, g, b);\n\tconst diffc = function (c) {\n\t\treturn (v - c) / 6 / diff + 1 / 2;\n\t};\n\n\tif (diff === 0) {\n\t\th = 0;\n\t\ts = 0;\n\t} else {\n\t\ts = diff / v;\n\t\trdif = diffc(r);\n\t\tgdif = diffc(g);\n\t\tbdif = diffc(b);\n\n\t\tif (r === v) {\n\t\t\th = bdif - gdif;\n\t\t} else if (g === v) {\n\t\t\th = (1 / 3) + rdif - bdif;\n\t\t} else if (b === v) {\n\t\t\th = (2 / 3) + gdif - rdif;\n\t\t}\n\n\t\tif (h < 0) {\n\t\t\th += 1;\n\t\t} else if (h > 1) {\n\t\t\th -= 1;\n\t\t}\n\t}\n\n\treturn [\n\t\th * 360,\n\t\ts * 100,\n\t\tv * 100\n\t];\n};\n\nconvert.rgb.hwb = function (rgb) {\n\tconst r = rgb[0];\n\tconst g = rgb[1];\n\tlet b = rgb[2];\n\tconst h = convert.rgb.hsl(rgb)[0];\n\tconst w = 1 / 255 * Math.min(r, Math.min(g, b));\n\n\tb = 1 - 1 / 255 * Math.max(r, Math.max(g, b));\n\n\treturn [h, w * 100, b * 100];\n};\n\nconvert.rgb.cmyk = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\n\tconst k = Math.min(1 - r, 1 - g, 1 - b);\n\tconst c = (1 - r - k) / (1 - k) || 0;\n\tconst m = (1 - g - k) / (1 - k) || 0;\n\tconst y = (1 - b - k) / (1 - k) || 0;\n\n\treturn [c * 100, m * 100, y * 100, k * 100];\n};\n\nfunction comparativeDistance(x, y) {\n\t/*\n\t\tSee https://en.m.wikipedia.org/wiki/Euclidean_distance#Squared_Euclidean_distance\n\t*/\n\treturn (\n\t\t((x[0] - y[0]) ** 2) +\n\t\t((x[1] - y[1]) ** 2) +\n\t\t((x[2] - y[2]) ** 2)\n\t);\n}\n\nconvert.rgb.keyword = function (rgb) {\n\tconst reversed = reverseKeywords[rgb];\n\tif (reversed) {\n\t\treturn reversed;\n\t}\n\n\tlet currentClosestDistance = Infinity;\n\tlet currentClosestKeyword;\n\n\tfor (const keyword of Object.keys(cssKeywords)) {\n\t\tconst value = cssKeywords[keyword];\n\n\t\t// Compute comparative distance\n\t\tconst distance = comparativeDistance(rgb, value);\n\n\t\t// Check if its less, if so set as closest\n\t\tif (distance < currentClosestDistance) {\n\t\t\tcurrentClosestDistance = distance;\n\t\t\tcurrentClosestKeyword = keyword;\n\t\t}\n\t}\n\n\treturn currentClosestKeyword;\n};\n\nconvert.keyword.rgb = function (keyword) {\n\treturn cssKeywords[keyword];\n};\n\nconvert.rgb.xyz = function (rgb) {\n\tlet r = rgb[0] / 255;\n\tlet g = rgb[1] / 255;\n\tlet b = rgb[2] / 255;\n\n\t// Assume sRGB\n\tr = r > 0.04045 ? (((r + 0.055) / 1.055) ** 2.4) : (r / 12.92);\n\tg = g > 0.04045 ? (((g + 0.055) / 1.055) ** 2.4) : (g / 12.92);\n\tb = b > 0.04045 ? (((b + 0.055) / 1.055) ** 2.4) : (b / 12.92);\n\n\tconst x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);\n\tconst y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);\n\tconst z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);\n\n\treturn [x * 100, y * 100, z * 100];\n};\n\nconvert.rgb.lab = function (rgb) {\n\tconst xyz = convert.rgb.xyz(rgb);\n\tlet x = xyz[0];\n\tlet y = xyz[1];\n\tlet z = xyz[2];\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? (x ** (1 / 3)) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? (y ** (1 / 3)) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? (z ** (1 / 3)) : (7.787 * z) + (16 / 116);\n\n\tconst l = (116 * y) - 16;\n\tconst a = 500 * (x - y);\n\tconst b = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.hsl.rgb = function (hsl) {\n\tconst h = hsl[0] / 360;\n\tconst s = hsl[1] / 100;\n\tconst l = hsl[2] / 100;\n\tlet t2;\n\tlet t3;\n\tlet val;\n\n\tif (s === 0) {\n\t\tval = l * 255;\n\t\treturn [val, val, val];\n\t}\n\n\tif (l < 0.5) {\n\t\tt2 = l * (1 + s);\n\t} else {\n\t\tt2 = l + s - l * s;\n\t}\n\n\tconst t1 = 2 * l - t2;\n\n\tconst rgb = [0, 0, 0];\n\tfor (let i = 0; i < 3; i++) {\n\t\tt3 = h + 1 / 3 * -(i - 1);\n\t\tif (t3 < 0) {\n\t\t\tt3++;\n\t\t}\n\n\t\tif (t3 > 1) {\n\t\t\tt3--;\n\t\t}\n\n\t\tif (6 * t3 < 1) {\n\t\t\tval = t1 + (t2 - t1) * 6 * t3;\n\t\t} else if (2 * t3 < 1) {\n\t\t\tval = t2;\n\t\t} else if (3 * t3 < 2) {\n\t\t\tval = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n\t\t} else {\n\t\t\tval = t1;\n\t\t}\n\n\t\trgb[i] = val * 255;\n\t}\n\n\treturn rgb;\n};\n\nconvert.hsl.hsv = function (hsl) {\n\tconst h = hsl[0];\n\tlet s = hsl[1] / 100;\n\tlet l = hsl[2] / 100;\n\tlet smin = s;\n\tconst lmin = Math.max(l, 0.01);\n\n\tl *= 2;\n\ts *= (l <= 1) ? l : 2 - l;\n\tsmin *= lmin <= 1 ? lmin : 2 - lmin;\n\tconst v = (l + s) / 2;\n\tconst sv = l === 0 ? (2 * smin) / (lmin + smin) : (2 * s) / (l + s);\n\n\treturn [h, sv * 100, v * 100];\n};\n\nconvert.hsv.rgb = function (hsv) {\n\tconst h = hsv[0] / 60;\n\tconst s = hsv[1] / 100;\n\tlet v = hsv[2] / 100;\n\tconst hi = Math.floor(h) % 6;\n\n\tconst f = h - Math.floor(h);\n\tconst p = 255 * v * (1 - s);\n\tconst q = 255 * v * (1 - (s * f));\n\tconst t = 255 * v * (1 - (s * (1 - f)));\n\tv *= 255;\n\n\tswitch (hi) {\n\t\tcase 0:\n\t\t\treturn [v, t, p];\n\t\tcase 1:\n\t\t\treturn [q, v, p];\n\t\tcase 2:\n\t\t\treturn [p, v, t];\n\t\tcase 3:\n\t\t\treturn [p, q, v];\n\t\tcase 4:\n\t\t\treturn [t, p, v];\n\t\tcase 5:\n\t\t\treturn [v, p, q];\n\t}\n};\n\nconvert.hsv.hsl = function (hsv) {\n\tconst h = hsv[0];\n\tconst s = hsv[1] / 100;\n\tconst v = hsv[2] / 100;\n\tconst vmin = Math.max(v, 0.01);\n\tlet sl;\n\tlet l;\n\n\tl = (2 - s) * v;\n\tconst lmin = (2 - s) * vmin;\n\tsl = s * vmin;\n\tsl /= (lmin <= 1) ? lmin : 2 - lmin;\n\tsl = sl || 0;\n\tl /= 2;\n\n\treturn [h, sl * 100, l * 100];\n};\n\n// http://dev.w3.org/csswg/css-color/#hwb-to-rgb\nconvert.hwb.rgb = function (hwb) {\n\tconst h = hwb[0] / 360;\n\tlet wh = hwb[1] / 100;\n\tlet bl = hwb[2] / 100;\n\tconst ratio = wh + bl;\n\tlet f;\n\n\t// Wh + bl cant be > 1\n\tif (ratio > 1) {\n\t\twh /= ratio;\n\t\tbl /= ratio;\n\t}\n\n\tconst i = Math.floor(6 * h);\n\tconst v = 1 - bl;\n\tf = 6 * h - i;\n\n\tif ((i & 0x01) !== 0) {\n\t\tf = 1 - f;\n\t}\n\n\tconst n = wh + f * (v - wh); // Linear interpolation\n\n\tlet r;\n\tlet g;\n\tlet b;\n\t/* eslint-disable max-statements-per-line,no-multi-spaces */\n\tswitch (i) {\n\t\tdefault:\n\t\tcase 6:\n\t\tcase 0: r = v;  g = n;  b = wh; break;\n\t\tcase 1: r = n;  g = v;  b = wh; break;\n\t\tcase 2: r = wh; g = v;  b = n; break;\n\t\tcase 3: r = wh; g = n;  b = v; break;\n\t\tcase 4: r = n;  g = wh; b = v; break;\n\t\tcase 5: r = v;  g = wh; b = n; break;\n\t}\n\t/* eslint-enable max-statements-per-line,no-multi-spaces */\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.cmyk.rgb = function (cmyk) {\n\tconst c = cmyk[0] / 100;\n\tconst m = cmyk[1] / 100;\n\tconst y = cmyk[2] / 100;\n\tconst k = cmyk[3] / 100;\n\n\tconst r = 1 - Math.min(1, c * (1 - k) + k);\n\tconst g = 1 - Math.min(1, m * (1 - k) + k);\n\tconst b = 1 - Math.min(1, y * (1 - k) + k);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.rgb = function (xyz) {\n\tconst x = xyz[0] / 100;\n\tconst y = xyz[1] / 100;\n\tconst z = xyz[2] / 100;\n\tlet r;\n\tlet g;\n\tlet b;\n\n\tr = (x * 3.2406) + (y * -1.5372) + (z * -0.4986);\n\tg = (x * -0.9689) + (y * 1.8758) + (z * 0.0415);\n\tb = (x * 0.0557) + (y * -0.2040) + (z * 1.0570);\n\n\t// Assume sRGB\n\tr = r > 0.0031308\n\t\t? ((1.055 * (r ** (1.0 / 2.4))) - 0.055)\n\t\t: r * 12.92;\n\n\tg = g > 0.0031308\n\t\t? ((1.055 * (g ** (1.0 / 2.4))) - 0.055)\n\t\t: g * 12.92;\n\n\tb = b > 0.0031308\n\t\t? ((1.055 * (b ** (1.0 / 2.4))) - 0.055)\n\t\t: b * 12.92;\n\n\tr = Math.min(Math.max(0, r), 1);\n\tg = Math.min(Math.max(0, g), 1);\n\tb = Math.min(Math.max(0, b), 1);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.lab = function (xyz) {\n\tlet x = xyz[0];\n\tlet y = xyz[1];\n\tlet z = xyz[2];\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? (x ** (1 / 3)) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? (y ** (1 / 3)) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? (z ** (1 / 3)) : (7.787 * z) + (16 / 116);\n\n\tconst l = (116 * y) - 16;\n\tconst a = 500 * (x - y);\n\tconst b = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.lab.xyz = function (lab) {\n\tconst l = lab[0];\n\tconst a = lab[1];\n\tconst b = lab[2];\n\tlet x;\n\tlet y;\n\tlet z;\n\n\ty = (l + 16) / 116;\n\tx = a / 500 + y;\n\tz = y - b / 200;\n\n\tconst y2 = y ** 3;\n\tconst x2 = x ** 3;\n\tconst z2 = z ** 3;\n\ty = y2 > 0.008856 ? y2 : (y - 16 / 116) / 7.787;\n\tx = x2 > 0.008856 ? x2 : (x - 16 / 116) / 7.787;\n\tz = z2 > 0.008856 ? z2 : (z - 16 / 116) / 7.787;\n\n\tx *= 95.047;\n\ty *= 100;\n\tz *= 108.883;\n\n\treturn [x, y, z];\n};\n\nconvert.lab.lch = function (lab) {\n\tconst l = lab[0];\n\tconst a = lab[1];\n\tconst b = lab[2];\n\tlet h;\n\n\tconst hr = Math.atan2(b, a);\n\th = hr * 360 / 2 / Math.PI;\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tconst c = Math.sqrt(a * a + b * b);\n\n\treturn [l, c, h];\n};\n\nconvert.lch.lab = function (lch) {\n\tconst l = lch[0];\n\tconst c = lch[1];\n\tconst h = lch[2];\n\n\tconst hr = h / 360 * 2 * Math.PI;\n\tconst a = c * Math.cos(hr);\n\tconst b = c * Math.sin(hr);\n\n\treturn [l, a, b];\n};\n\nconvert.rgb.ansi16 = function (args, saturation = null) {\n\tconst [r, g, b] = args;\n\tlet value = saturation === null ? convert.rgb.hsv(args)[2] : saturation; // Hsv -> ansi16 optimization\n\n\tvalue = Math.round(value / 50);\n\n\tif (value === 0) {\n\t\treturn 30;\n\t}\n\n\tlet ansi = 30\n\t\t+ ((Math.round(b / 255) << 2)\n\t\t| (Math.round(g / 255) << 1)\n\t\t| Math.round(r / 255));\n\n\tif (value === 2) {\n\t\tansi += 60;\n\t}\n\n\treturn ansi;\n};\n\nconvert.hsv.ansi16 = function (args) {\n\t// Optimization here; we already know the value and don't need to get\n\t// it converted for us.\n\treturn convert.rgb.ansi16(convert.hsv.rgb(args), args[2]);\n};\n\nconvert.rgb.ansi256 = function (args) {\n\tconst r = args[0];\n\tconst g = args[1];\n\tconst b = args[2];\n\n\t// We use the extended greyscale palette here, with the exception of\n\t// black and white. normal palette only has 4 greyscale shades.\n\tif (r === g && g === b) {\n\t\tif (r < 8) {\n\t\t\treturn 16;\n\t\t}\n\n\t\tif (r > 248) {\n\t\t\treturn 231;\n\t\t}\n\n\t\treturn Math.round(((r - 8) / 247) * 24) + 232;\n\t}\n\n\tconst ansi = 16\n\t\t+ (36 * Math.round(r / 255 * 5))\n\t\t+ (6 * Math.round(g / 255 * 5))\n\t\t+ Math.round(b / 255 * 5);\n\n\treturn ansi;\n};\n\nconvert.ansi16.rgb = function (args) {\n\tlet color = args % 10;\n\n\t// Handle greyscale\n\tif (color === 0 || color === 7) {\n\t\tif (args > 50) {\n\t\t\tcolor += 3.5;\n\t\t}\n\n\t\tcolor = color / 10.5 * 255;\n\n\t\treturn [color, color, color];\n\t}\n\n\tconst mult = (~~(args > 50) + 1) * 0.5;\n\tconst r = ((color & 1) * mult) * 255;\n\tconst g = (((color >> 1) & 1) * mult) * 255;\n\tconst b = (((color >> 2) & 1) * mult) * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.ansi256.rgb = function (args) {\n\t// Handle greyscale\n\tif (args >= 232) {\n\t\tconst c = (args - 232) * 10 + 8;\n\t\treturn [c, c, c];\n\t}\n\n\targs -= 16;\n\n\tlet rem;\n\tconst r = Math.floor(args / 36) / 5 * 255;\n\tconst g = Math.floor((rem = args % 36) / 6) / 5 * 255;\n\tconst b = (rem % 6) / 5 * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hex = function (args) {\n\tconst integer = ((Math.round(args[0]) & 0xFF) << 16)\n\t\t+ ((Math.round(args[1]) & 0xFF) << 8)\n\t\t+ (Math.round(args[2]) & 0xFF);\n\n\tconst string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.hex.rgb = function (args) {\n\tconst match = args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);\n\tif (!match) {\n\t\treturn [0, 0, 0];\n\t}\n\n\tlet colorString = match[0];\n\n\tif (match[0].length === 3) {\n\t\tcolorString = colorString.split('').map(char => {\n\t\t\treturn char + char;\n\t\t}).join('');\n\t}\n\n\tconst integer = parseInt(colorString, 16);\n\tconst r = (integer >> 16) & 0xFF;\n\tconst g = (integer >> 8) & 0xFF;\n\tconst b = integer & 0xFF;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hcg = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst max = Math.max(Math.max(r, g), b);\n\tconst min = Math.min(Math.min(r, g), b);\n\tconst chroma = (max - min);\n\tlet grayscale;\n\tlet hue;\n\n\tif (chroma < 1) {\n\t\tgrayscale = min / (1 - chroma);\n\t} else {\n\t\tgrayscale = 0;\n\t}\n\n\tif (chroma <= 0) {\n\t\thue = 0;\n\t} else\n\tif (max === r) {\n\t\thue = ((g - b) / chroma) % 6;\n\t} else\n\tif (max === g) {\n\t\thue = 2 + (b - r) / chroma;\n\t} else {\n\t\thue = 4 + (r - g) / chroma;\n\t}\n\n\thue /= 6;\n\thue %= 1;\n\n\treturn [hue * 360, chroma * 100, grayscale * 100];\n};\n\nconvert.hsl.hcg = function (hsl) {\n\tconst s = hsl[1] / 100;\n\tconst l = hsl[2] / 100;\n\n\tconst c = l < 0.5 ? (2.0 * s * l) : (2.0 * s * (1.0 - l));\n\n\tlet f = 0;\n\tif (c < 1.0) {\n\t\tf = (l - 0.5 * c) / (1.0 - c);\n\t}\n\n\treturn [hsl[0], c * 100, f * 100];\n};\n\nconvert.hsv.hcg = function (hsv) {\n\tconst s = hsv[1] / 100;\n\tconst v = hsv[2] / 100;\n\n\tconst c = s * v;\n\tlet f = 0;\n\n\tif (c < 1.0) {\n\t\tf = (v - c) / (1 - c);\n\t}\n\n\treturn [hsv[0], c * 100, f * 100];\n};\n\nconvert.hcg.rgb = function (hcg) {\n\tconst h = hcg[0] / 360;\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tif (c === 0.0) {\n\t\treturn [g * 255, g * 255, g * 255];\n\t}\n\n\tconst pure = [0, 0, 0];\n\tconst hi = (h % 1) * 6;\n\tconst v = hi % 1;\n\tconst w = 1 - v;\n\tlet mg = 0;\n\n\t/* eslint-disable max-statements-per-line */\n\tswitch (Math.floor(hi)) {\n\t\tcase 0:\n\t\t\tpure[0] = 1; pure[1] = v; pure[2] = 0; break;\n\t\tcase 1:\n\t\t\tpure[0] = w; pure[1] = 1; pure[2] = 0; break;\n\t\tcase 2:\n\t\t\tpure[0] = 0; pure[1] = 1; pure[2] = v; break;\n\t\tcase 3:\n\t\t\tpure[0] = 0; pure[1] = w; pure[2] = 1; break;\n\t\tcase 4:\n\t\t\tpure[0] = v; pure[1] = 0; pure[2] = 1; break;\n\t\tdefault:\n\t\t\tpure[0] = 1; pure[1] = 0; pure[2] = w;\n\t}\n\t/* eslint-enable max-statements-per-line */\n\n\tmg = (1.0 - c) * g;\n\n\treturn [\n\t\t(c * pure[0] + mg) * 255,\n\t\t(c * pure[1] + mg) * 255,\n\t\t(c * pure[2] + mg) * 255\n\t];\n};\n\nconvert.hcg.hsv = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tconst v = c + g * (1.0 - c);\n\tlet f = 0;\n\n\tif (v > 0.0) {\n\t\tf = c / v;\n\t}\n\n\treturn [hcg[0], f * 100, v * 100];\n};\n\nconvert.hcg.hsl = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tconst l = g * (1.0 - c) + 0.5 * c;\n\tlet s = 0;\n\n\tif (l > 0.0 && l < 0.5) {\n\t\ts = c / (2 * l);\n\t} else\n\tif (l >= 0.5 && l < 1.0) {\n\t\ts = c / (2 * (1 - l));\n\t}\n\n\treturn [hcg[0], s * 100, l * 100];\n};\n\nconvert.hcg.hwb = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\tconst v = c + g * (1.0 - c);\n\treturn [hcg[0], (v - c) * 100, (1 - v) * 100];\n};\n\nconvert.hwb.hcg = function (hwb) {\n\tconst w = hwb[1] / 100;\n\tconst b = hwb[2] / 100;\n\tconst v = 1 - b;\n\tconst c = v - w;\n\tlet g = 0;\n\n\tif (c < 1) {\n\t\tg = (v - c) / (1 - c);\n\t}\n\n\treturn [hwb[0], c * 100, g * 100];\n};\n\nconvert.apple.rgb = function (apple) {\n\treturn [(apple[0] / 65535) * 255, (apple[1] / 65535) * 255, (apple[2] / 65535) * 255];\n};\n\nconvert.rgb.apple = function (rgb) {\n\treturn [(rgb[0] / 255) * 65535, (rgb[1] / 255) * 65535, (rgb[2] / 255) * 65535];\n};\n\nconvert.gray.rgb = function (args) {\n\treturn [args[0] / 100 * 255, args[0] / 100 * 255, args[0] / 100 * 255];\n};\n\nconvert.gray.hsl = function (args) {\n\treturn [0, 0, args[0]];\n};\n\nconvert.gray.hsv = convert.gray.hsl;\n\nconvert.gray.hwb = function (gray) {\n\treturn [0, 100, gray[0]];\n};\n\nconvert.gray.cmyk = function (gray) {\n\treturn [0, 0, 0, gray[0]];\n};\n\nconvert.gray.lab = function (gray) {\n\treturn [gray[0], 0, 0];\n};\n\nconvert.gray.hex = function (gray) {\n\tconst val = Math.round(gray[0] / 100 * 255) & 0xFF;\n\tconst integer = (val << 16) + (val << 8) + val;\n\n\tconst string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.rgb.gray = function (rgb) {\n\tconst val = (rgb[0] + rgb[1] + rgb[2]) / 3;\n\treturn [val / 255 * 100];\n};\n","const conversions = require('./conversions');\nconst route = require('./route');\n\nconst convert = {};\n\nconst models = Object.keys(conversions);\n\nfunction wrapRaw(fn) {\n\tconst wrappedFn = function (...args) {\n\t\tconst arg0 = args[0];\n\t\tif (arg0 === undefined || arg0 === null) {\n\t\t\treturn arg0;\n\t\t}\n\n\t\tif (arg0.length > 1) {\n\t\t\targs = arg0;\n\t\t}\n\n\t\treturn fn(args);\n\t};\n\n\t// Preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nfunction wrapRounded(fn) {\n\tconst wrappedFn = function (...args) {\n\t\tconst arg0 = args[0];\n\n\t\tif (arg0 === undefined || arg0 === null) {\n\t\t\treturn arg0;\n\t\t}\n\n\t\tif (arg0.length > 1) {\n\t\t\targs = arg0;\n\t\t}\n\n\t\tconst result = fn(args);\n\n\t\t// We're assuming the result is an array here.\n\t\t// see notice in conversions.js; don't use box types\n\t\t// in conversion functions.\n\t\tif (typeof result === 'object') {\n\t\t\tfor (let len = result.length, i = 0; i < len; i++) {\n\t\t\t\tresult[i] = Math.round(result[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\t// Preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nmodels.forEach(fromModel => {\n\tconvert[fromModel] = {};\n\n\tObject.defineProperty(convert[fromModel], 'channels', {value: conversions[fromModel].channels});\n\tObject.defineProperty(convert[fromModel], 'labels', {value: conversions[fromModel].labels});\n\n\tconst routes = route(fromModel);\n\tconst routeModels = Object.keys(routes);\n\n\trouteModels.forEach(toModel => {\n\t\tconst fn = routes[toModel];\n\n\t\tconvert[fromModel][toModel] = wrapRounded(fn);\n\t\tconvert[fromModel][toModel].raw = wrapRaw(fn);\n\t});\n});\n\nmodule.exports = convert;\n","const conversions = require('./conversions');\n\n/*\n\tThis function routes a model to all other models.\n\n\tall functions that are routed have a property `.conversion` attached\n\tto the returned synthetic function. This property is an array\n\tof strings, each with the steps in between the 'from' and 'to'\n\tcolor models (inclusive).\n\n\tconversions that are not possible simply are not included.\n*/\n\nfunction buildGraph() {\n\tconst graph = {};\n\t// https://jsperf.com/object-keys-vs-for-in-with-closure/3\n\tconst models = Object.keys(conversions);\n\n\tfor (let len = models.length, i = 0; i < len; i++) {\n\t\tgraph[models[i]] = {\n\t\t\t// http://jsperf.com/1-vs-infinity\n\t\t\t// micro-opt, but this is simple.\n\t\t\tdistance: -1,\n\t\t\tparent: null\n\t\t};\n\t}\n\n\treturn graph;\n}\n\n// https://en.wikipedia.org/wiki/Breadth-first_search\nfunction deriveBFS(fromModel) {\n\tconst graph = buildGraph();\n\tconst queue = [fromModel]; // Unshift -> queue -> pop\n\n\tgraph[fromModel].distance = 0;\n\n\twhile (queue.length) {\n\t\tconst current = queue.pop();\n\t\tconst adjacents = Object.keys(conversions[current]);\n\n\t\tfor (let len = adjacents.length, i = 0; i < len; i++) {\n\t\t\tconst adjacent = adjacents[i];\n\t\t\tconst node = graph[adjacent];\n\n\t\t\tif (node.distance === -1) {\n\t\t\t\tnode.distance = graph[current].distance + 1;\n\t\t\t\tnode.parent = current;\n\t\t\t\tqueue.unshift(adjacent);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn graph;\n}\n\nfunction link(from, to) {\n\treturn function (args) {\n\t\treturn to(from(args));\n\t};\n}\n\nfunction wrapConversion(toModel, graph) {\n\tconst path = [graph[toModel].parent, toModel];\n\tlet fn = conversions[graph[toModel].parent][toModel];\n\n\tlet cur = graph[toModel].parent;\n\twhile (graph[cur].parent) {\n\t\tpath.unshift(graph[cur].parent);\n\t\tfn = link(conversions[graph[cur].parent][cur], fn);\n\t\tcur = graph[cur].parent;\n\t}\n\n\tfn.conversion = path;\n\treturn fn;\n}\n\nmodule.exports = function (fromModel) {\n\tconst graph = deriveBFS(fromModel);\n\tconst conversion = {};\n\n\tconst models = Object.keys(graph);\n\tfor (let len = models.length, i = 0; i < len; i++) {\n\t\tconst toModel = models[i];\n\t\tconst node = graph[toModel];\n\n\t\tif (node.parent === null) {\n\t\t\t// No possible conversion, or this node is the source model.\n\t\t\tcontinue;\n\t\t}\n\n\t\tconversion[toModel] = wrapConversion(toModel, graph);\n\t}\n\n\treturn conversion;\n};\n\n","'use strict'\r\n\r\nmodule.exports = {\r\n\t\"aliceblue\": [240, 248, 255],\r\n\t\"antiquewhite\": [250, 235, 215],\r\n\t\"aqua\": [0, 255, 255],\r\n\t\"aquamarine\": [127, 255, 212],\r\n\t\"azure\": [240, 255, 255],\r\n\t\"beige\": [245, 245, 220],\r\n\t\"bisque\": [255, 228, 196],\r\n\t\"black\": [0, 0, 0],\r\n\t\"blanchedalmond\": [255, 235, 205],\r\n\t\"blue\": [0, 0, 255],\r\n\t\"blueviolet\": [138, 43, 226],\r\n\t\"brown\": [165, 42, 42],\r\n\t\"burlywood\": [222, 184, 135],\r\n\t\"cadetblue\": [95, 158, 160],\r\n\t\"chartreuse\": [127, 255, 0],\r\n\t\"chocolate\": [210, 105, 30],\r\n\t\"coral\": [255, 127, 80],\r\n\t\"cornflowerblue\": [100, 149, 237],\r\n\t\"cornsilk\": [255, 248, 220],\r\n\t\"crimson\": [220, 20, 60],\r\n\t\"cyan\": [0, 255, 255],\r\n\t\"darkblue\": [0, 0, 139],\r\n\t\"darkcyan\": [0, 139, 139],\r\n\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\"darkgray\": [169, 169, 169],\r\n\t\"darkgreen\": [0, 100, 0],\r\n\t\"darkgrey\": [169, 169, 169],\r\n\t\"darkkhaki\": [189, 183, 107],\r\n\t\"darkmagenta\": [139, 0, 139],\r\n\t\"darkolivegreen\": [85, 107, 47],\r\n\t\"darkorange\": [255, 140, 0],\r\n\t\"darkorchid\": [153, 50, 204],\r\n\t\"darkred\": [139, 0, 0],\r\n\t\"darksalmon\": [233, 150, 122],\r\n\t\"darkseagreen\": [143, 188, 143],\r\n\t\"darkslateblue\": [72, 61, 139],\r\n\t\"darkslategray\": [47, 79, 79],\r\n\t\"darkslategrey\": [47, 79, 79],\r\n\t\"darkturquoise\": [0, 206, 209],\r\n\t\"darkviolet\": [148, 0, 211],\r\n\t\"deeppink\": [255, 20, 147],\r\n\t\"deepskyblue\": [0, 191, 255],\r\n\t\"dimgray\": [105, 105, 105],\r\n\t\"dimgrey\": [105, 105, 105],\r\n\t\"dodgerblue\": [30, 144, 255],\r\n\t\"firebrick\": [178, 34, 34],\r\n\t\"floralwhite\": [255, 250, 240],\r\n\t\"forestgreen\": [34, 139, 34],\r\n\t\"fuchsia\": [255, 0, 255],\r\n\t\"gainsboro\": [220, 220, 220],\r\n\t\"ghostwhite\": [248, 248, 255],\r\n\t\"gold\": [255, 215, 0],\r\n\t\"goldenrod\": [218, 165, 32],\r\n\t\"gray\": [128, 128, 128],\r\n\t\"green\": [0, 128, 0],\r\n\t\"greenyellow\": [173, 255, 47],\r\n\t\"grey\": [128, 128, 128],\r\n\t\"honeydew\": [240, 255, 240],\r\n\t\"hotpink\": [255, 105, 180],\r\n\t\"indianred\": [205, 92, 92],\r\n\t\"indigo\": [75, 0, 130],\r\n\t\"ivory\": [255, 255, 240],\r\n\t\"khaki\": [240, 230, 140],\r\n\t\"lavender\": [230, 230, 250],\r\n\t\"lavenderblush\": [255, 240, 245],\r\n\t\"lawngreen\": [124, 252, 0],\r\n\t\"lemonchiffon\": [255, 250, 205],\r\n\t\"lightblue\": [173, 216, 230],\r\n\t\"lightcoral\": [240, 128, 128],\r\n\t\"lightcyan\": [224, 255, 255],\r\n\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\"lightgray\": [211, 211, 211],\r\n\t\"lightgreen\": [144, 238, 144],\r\n\t\"lightgrey\": [211, 211, 211],\r\n\t\"lightpink\": [255, 182, 193],\r\n\t\"lightsalmon\": [255, 160, 122],\r\n\t\"lightseagreen\": [32, 178, 170],\r\n\t\"lightskyblue\": [135, 206, 250],\r\n\t\"lightslategray\": [119, 136, 153],\r\n\t\"lightslategrey\": [119, 136, 153],\r\n\t\"lightsteelblue\": [176, 196, 222],\r\n\t\"lightyellow\": [255, 255, 224],\r\n\t\"lime\": [0, 255, 0],\r\n\t\"limegreen\": [50, 205, 50],\r\n\t\"linen\": [250, 240, 230],\r\n\t\"magenta\": [255, 0, 255],\r\n\t\"maroon\": [128, 0, 0],\r\n\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\"mediumblue\": [0, 0, 205],\r\n\t\"mediumorchid\": [186, 85, 211],\r\n\t\"mediumpurple\": [147, 112, 219],\r\n\t\"mediumseagreen\": [60, 179, 113],\r\n\t\"mediumslateblue\": [123, 104, 238],\r\n\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\"mediumturquoise\": [72, 209, 204],\r\n\t\"mediumvioletred\": [199, 21, 133],\r\n\t\"midnightblue\": [25, 25, 112],\r\n\t\"mintcream\": [245, 255, 250],\r\n\t\"mistyrose\": [255, 228, 225],\r\n\t\"moccasin\": [255, 228, 181],\r\n\t\"navajowhite\": [255, 222, 173],\r\n\t\"navy\": [0, 0, 128],\r\n\t\"oldlace\": [253, 245, 230],\r\n\t\"olive\": [128, 128, 0],\r\n\t\"olivedrab\": [107, 142, 35],\r\n\t\"orange\": [255, 165, 0],\r\n\t\"orangered\": [255, 69, 0],\r\n\t\"orchid\": [218, 112, 214],\r\n\t\"palegoldenrod\": [238, 232, 170],\r\n\t\"palegreen\": [152, 251, 152],\r\n\t\"paleturquoise\": [175, 238, 238],\r\n\t\"palevioletred\": [219, 112, 147],\r\n\t\"papayawhip\": [255, 239, 213],\r\n\t\"peachpuff\": [255, 218, 185],\r\n\t\"peru\": [205, 133, 63],\r\n\t\"pink\": [255, 192, 203],\r\n\t\"plum\": [221, 160, 221],\r\n\t\"powderblue\": [176, 224, 230],\r\n\t\"purple\": [128, 0, 128],\r\n\t\"rebeccapurple\": [102, 51, 153],\r\n\t\"red\": [255, 0, 0],\r\n\t\"rosybrown\": [188, 143, 143],\r\n\t\"royalblue\": [65, 105, 225],\r\n\t\"saddlebrown\": [139, 69, 19],\r\n\t\"salmon\": [250, 128, 114],\r\n\t\"sandybrown\": [244, 164, 96],\r\n\t\"seagreen\": [46, 139, 87],\r\n\t\"seashell\": [255, 245, 238],\r\n\t\"sienna\": [160, 82, 45],\r\n\t\"silver\": [192, 192, 192],\r\n\t\"skyblue\": [135, 206, 235],\r\n\t\"slateblue\": [106, 90, 205],\r\n\t\"slategray\": [112, 128, 144],\r\n\t\"slategrey\": [112, 128, 144],\r\n\t\"snow\": [255, 250, 250],\r\n\t\"springgreen\": [0, 255, 127],\r\n\t\"steelblue\": [70, 130, 180],\r\n\t\"tan\": [210, 180, 140],\r\n\t\"teal\": [0, 128, 128],\r\n\t\"thistle\": [216, 191, 216],\r\n\t\"tomato\": [255, 99, 71],\r\n\t\"turquoise\": [64, 224, 208],\r\n\t\"violet\": [238, 130, 238],\r\n\t\"wheat\": [245, 222, 179],\r\n\t\"white\": [255, 255, 255],\r\n\t\"whitesmoke\": [245, 245, 245],\r\n\t\"yellow\": [255, 255, 0],\r\n\t\"yellowgreen\": [154, 205, 50]\r\n};\r\n","/* MIT license */\nvar colorNames = require('color-name');\nvar swizzle = require('simple-swizzle');\nvar hasOwnProperty = Object.hasOwnProperty;\n\nvar reverseNames = Object.create(null);\n\n// create a list of reverse color names\nfor (var name in colorNames) {\n\tif (hasOwnProperty.call(colorNames, name)) {\n\t\treverseNames[colorNames[name]] = name;\n\t}\n}\n\nvar cs = module.exports = {\n\tto: {},\n\tget: {}\n};\n\ncs.get = function (string) {\n\tvar prefix = string.substring(0, 3).toLowerCase();\n\tvar val;\n\tvar model;\n\tswitch (prefix) {\n\t\tcase 'hsl':\n\t\t\tval = cs.get.hsl(string);\n\t\t\tmodel = 'hsl';\n\t\t\tbreak;\n\t\tcase 'hwb':\n\t\t\tval = cs.get.hwb(string);\n\t\t\tmodel = 'hwb';\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tval = cs.get.rgb(string);\n\t\t\tmodel = 'rgb';\n\t\t\tbreak;\n\t}\n\n\tif (!val) {\n\t\treturn null;\n\t}\n\n\treturn {model: model, value: val};\n};\n\ncs.get.rgb = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar abbr = /^#([a-f0-9]{3,4})$/i;\n\tvar hex = /^#([a-f0-9]{6})([a-f0-9]{2})?$/i;\n\tvar rgba = /^rgba?\\(\\s*([+-]?\\d+)(?=[\\s,])\\s*(?:,\\s*)?([+-]?\\d+)(?=[\\s,])\\s*(?:,\\s*)?([+-]?\\d+)\\s*(?:[,|\\/]\\s*([+-]?[\\d\\.]+)(%?)\\s*)?\\)$/;\n\tvar per = /^rgba?\\(\\s*([+-]?[\\d\\.]+)\\%\\s*,?\\s*([+-]?[\\d\\.]+)\\%\\s*,?\\s*([+-]?[\\d\\.]+)\\%\\s*(?:[,|\\/]\\s*([+-]?[\\d\\.]+)(%?)\\s*)?\\)$/;\n\tvar keyword = /^(\\w+)$/;\n\n\tvar rgb = [0, 0, 0, 1];\n\tvar match;\n\tvar i;\n\tvar hexAlpha;\n\n\tif (match = string.match(hex)) {\n\t\thexAlpha = match[2];\n\t\tmatch = match[1];\n\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\t// https://jsperf.com/slice-vs-substr-vs-substring-methods-long-string/19\n\t\t\tvar i2 = i * 2;\n\t\t\trgb[i] = parseInt(match.slice(i2, i2 + 2), 16);\n\t\t}\n\n\t\tif (hexAlpha) {\n\t\t\trgb[3] = parseInt(hexAlpha, 16) / 255;\n\t\t}\n\t} else if (match = string.match(abbr)) {\n\t\tmatch = match[1];\n\t\thexAlpha = match[3];\n\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = parseInt(match[i] + match[i], 16);\n\t\t}\n\n\t\tif (hexAlpha) {\n\t\t\trgb[3] = parseInt(hexAlpha + hexAlpha, 16) / 255;\n\t\t}\n\t} else if (match = string.match(rgba)) {\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = parseInt(match[i + 1], 0);\n\t\t}\n\n\t\tif (match[4]) {\n\t\t\tif (match[5]) {\n\t\t\t\trgb[3] = parseFloat(match[4]) * 0.01;\n\t\t\t} else {\n\t\t\t\trgb[3] = parseFloat(match[4]);\n\t\t\t}\n\t\t}\n\t} else if (match = string.match(per)) {\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = Math.round(parseFloat(match[i + 1]) * 2.55);\n\t\t}\n\n\t\tif (match[4]) {\n\t\t\tif (match[5]) {\n\t\t\t\trgb[3] = parseFloat(match[4]) * 0.01;\n\t\t\t} else {\n\t\t\t\trgb[3] = parseFloat(match[4]);\n\t\t\t}\n\t\t}\n\t} else if (match = string.match(keyword)) {\n\t\tif (match[1] === 'transparent') {\n\t\t\treturn [0, 0, 0, 0];\n\t\t}\n\n\t\tif (!hasOwnProperty.call(colorNames, match[1])) {\n\t\t\treturn null;\n\t\t}\n\n\t\trgb = colorNames[match[1]];\n\t\trgb[3] = 1;\n\n\t\treturn rgb;\n\t} else {\n\t\treturn null;\n\t}\n\n\tfor (i = 0; i < 3; i++) {\n\t\trgb[i] = clamp(rgb[i], 0, 255);\n\t}\n\trgb[3] = clamp(rgb[3], 0, 1);\n\n\treturn rgb;\n};\n\ncs.get.hsl = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar hsl = /^hsla?\\(\\s*([+-]?(?:\\d{0,3}\\.)?\\d+)(?:deg)?\\s*,?\\s*([+-]?[\\d\\.]+)%\\s*,?\\s*([+-]?[\\d\\.]+)%\\s*(?:[,|\\/]\\s*([+-]?(?=\\.\\d|\\d)(?:0|[1-9]\\d*)?(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)\\s*)?\\)$/;\n\tvar match = string.match(hsl);\n\n\tif (match) {\n\t\tvar alpha = parseFloat(match[4]);\n\t\tvar h = ((parseFloat(match[1]) % 360) + 360) % 360;\n\t\tvar s = clamp(parseFloat(match[2]), 0, 100);\n\t\tvar l = clamp(parseFloat(match[3]), 0, 100);\n\t\tvar a = clamp(isNaN(alpha) ? 1 : alpha, 0, 1);\n\n\t\treturn [h, s, l, a];\n\t}\n\n\treturn null;\n};\n\ncs.get.hwb = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar hwb = /^hwb\\(\\s*([+-]?\\d{0,3}(?:\\.\\d+)?)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?(?=\\.\\d|\\d)(?:0|[1-9]\\d*)?(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)\\s*)?\\)$/;\n\tvar match = string.match(hwb);\n\n\tif (match) {\n\t\tvar alpha = parseFloat(match[4]);\n\t\tvar h = ((parseFloat(match[1]) % 360) + 360) % 360;\n\t\tvar w = clamp(parseFloat(match[2]), 0, 100);\n\t\tvar b = clamp(parseFloat(match[3]), 0, 100);\n\t\tvar a = clamp(isNaN(alpha) ? 1 : alpha, 0, 1);\n\t\treturn [h, w, b, a];\n\t}\n\n\treturn null;\n};\n\ncs.to.hex = function () {\n\tvar rgba = swizzle(arguments);\n\n\treturn (\n\t\t'#' +\n\t\thexDouble(rgba[0]) +\n\t\thexDouble(rgba[1]) +\n\t\thexDouble(rgba[2]) +\n\t\t(rgba[3] < 1\n\t\t\t? (hexDouble(Math.round(rgba[3] * 255)))\n\t\t\t: '')\n\t);\n};\n\ncs.to.rgb = function () {\n\tvar rgba = swizzle(arguments);\n\n\treturn rgba.length < 4 || rgba[3] === 1\n\t\t? 'rgb(' + Math.round(rgba[0]) + ', ' + Math.round(rgba[1]) + ', ' + Math.round(rgba[2]) + ')'\n\t\t: 'rgba(' + Math.round(rgba[0]) + ', ' + Math.round(rgba[1]) + ', ' + Math.round(rgba[2]) + ', ' + rgba[3] + ')';\n};\n\ncs.to.rgb.percent = function () {\n\tvar rgba = swizzle(arguments);\n\n\tvar r = Math.round(rgba[0] / 255 * 100);\n\tvar g = Math.round(rgba[1] / 255 * 100);\n\tvar b = Math.round(rgba[2] / 255 * 100);\n\n\treturn rgba.length < 4 || rgba[3] === 1\n\t\t? 'rgb(' + r + '%, ' + g + '%, ' + b + '%)'\n\t\t: 'rgba(' + r + '%, ' + g + '%, ' + b + '%, ' + rgba[3] + ')';\n};\n\ncs.to.hsl = function () {\n\tvar hsla = swizzle(arguments);\n\treturn hsla.length < 4 || hsla[3] === 1\n\t\t? 'hsl(' + hsla[0] + ', ' + hsla[1] + '%, ' + hsla[2] + '%)'\n\t\t: 'hsla(' + hsla[0] + ', ' + hsla[1] + '%, ' + hsla[2] + '%, ' + hsla[3] + ')';\n};\n\n// hwb is a bit different than rgb(a) & hsl(a) since there is no alpha specific syntax\n// (hwb have alpha optional & 1 is default value)\ncs.to.hwb = function () {\n\tvar hwba = swizzle(arguments);\n\n\tvar a = '';\n\tif (hwba.length >= 4 && hwba[3] !== 1) {\n\t\ta = ', ' + hwba[3];\n\t}\n\n\treturn 'hwb(' + hwba[0] + ', ' + hwba[1] + '%, ' + hwba[2] + '%' + a + ')';\n};\n\ncs.to.keyword = function (rgb) {\n\treturn reverseNames[rgb.slice(0, 3)];\n};\n\n// helpers\nfunction clamp(num, min, max) {\n\treturn Math.min(Math.max(min, num), max);\n}\n\nfunction hexDouble(num) {\n\tvar str = Math.round(num).toString(16).toUpperCase();\n\treturn (str.length < 2) ? '0' + str : str;\n}\n","const colorString = require('color-string');\nconst convert = require('color-convert');\n\nconst skippedModels = [\n\t// To be honest, I don't really feel like keyword belongs in color convert, but eh.\n\t'keyword',\n\n\t// Gray conflicts with some method names, and has its own method defined.\n\t'gray',\n\n\t// Shouldn't really be in color-convert either...\n\t'hex',\n];\n\nconst hashedModelKeys = {};\nfor (const model of Object.keys(convert)) {\n\thashedModelKeys[[...convert[model].labels].sort().join('')] = model;\n}\n\nconst limiters = {};\n\nfunction Color(object, model) {\n\tif (!(this instanceof Color)) {\n\t\treturn new Color(object, model);\n\t}\n\n\tif (model && model in skippedModels) {\n\t\tmodel = null;\n\t}\n\n\tif (model && !(model in convert)) {\n\t\tthrow new Error('Unknown model: ' + model);\n\t}\n\n\tlet i;\n\tlet channels;\n\n\tif (object == null) { // eslint-disable-line no-eq-null,eqeqeq\n\t\tthis.model = 'rgb';\n\t\tthis.color = [0, 0, 0];\n\t\tthis.valpha = 1;\n\t} else if (object instanceof Color) {\n\t\tthis.model = object.model;\n\t\tthis.color = [...object.color];\n\t\tthis.valpha = object.valpha;\n\t} else if (typeof object === 'string') {\n\t\tconst result = colorString.get(object);\n\t\tif (result === null) {\n\t\t\tthrow new Error('Unable to parse color from string: ' + object);\n\t\t}\n\n\t\tthis.model = result.model;\n\t\tchannels = convert[this.model].channels;\n\t\tthis.color = result.value.slice(0, channels);\n\t\tthis.valpha = typeof result.value[channels] === 'number' ? result.value[channels] : 1;\n\t} else if (object.length > 0) {\n\t\tthis.model = model || 'rgb';\n\t\tchannels = convert[this.model].channels;\n\t\tconst newArray = Array.prototype.slice.call(object, 0, channels);\n\t\tthis.color = zeroArray(newArray, channels);\n\t\tthis.valpha = typeof object[channels] === 'number' ? object[channels] : 1;\n\t} else if (typeof object === 'number') {\n\t\t// This is always RGB - can be converted later on.\n\t\tthis.model = 'rgb';\n\t\tthis.color = [\n\t\t\t(object >> 16) & 0xFF,\n\t\t\t(object >> 8) & 0xFF,\n\t\t\tobject & 0xFF,\n\t\t];\n\t\tthis.valpha = 1;\n\t} else {\n\t\tthis.valpha = 1;\n\n\t\tconst keys = Object.keys(object);\n\t\tif ('alpha' in object) {\n\t\t\tkeys.splice(keys.indexOf('alpha'), 1);\n\t\t\tthis.valpha = typeof object.alpha === 'number' ? object.alpha : 0;\n\t\t}\n\n\t\tconst hashedKeys = keys.sort().join('');\n\t\tif (!(hashedKeys in hashedModelKeys)) {\n\t\t\tthrow new Error('Unable to parse color from object: ' + JSON.stringify(object));\n\t\t}\n\n\t\tthis.model = hashedModelKeys[hashedKeys];\n\n\t\tconst {labels} = convert[this.model];\n\t\tconst color = [];\n\t\tfor (i = 0; i < labels.length; i++) {\n\t\t\tcolor.push(object[labels[i]]);\n\t\t}\n\n\t\tthis.color = zeroArray(color);\n\t}\n\n\t// Perform limitations (clamping, etc.)\n\tif (limiters[this.model]) {\n\t\tchannels = convert[this.model].channels;\n\t\tfor (i = 0; i < channels; i++) {\n\t\t\tconst limit = limiters[this.model][i];\n\t\t\tif (limit) {\n\t\t\t\tthis.color[i] = limit(this.color[i]);\n\t\t\t}\n\t\t}\n\t}\n\n\tthis.valpha = Math.max(0, Math.min(1, this.valpha));\n\n\tif (Object.freeze) {\n\t\tObject.freeze(this);\n\t}\n}\n\nColor.prototype = {\n\ttoString() {\n\t\treturn this.string();\n\t},\n\n\ttoJSON() {\n\t\treturn this[this.model]();\n\t},\n\n\tstring(places) {\n\t\tlet self = this.model in colorString.to ? this : this.rgb();\n\t\tself = self.round(typeof places === 'number' ? places : 1);\n\t\tconst args = self.valpha === 1 ? self.color : [...self.color, this.valpha];\n\t\treturn colorString.to[self.model](args);\n\t},\n\n\tpercentString(places) {\n\t\tconst self = this.rgb().round(typeof places === 'number' ? places : 1);\n\t\tconst args = self.valpha === 1 ? self.color : [...self.color, this.valpha];\n\t\treturn colorString.to.rgb.percent(args);\n\t},\n\n\tarray() {\n\t\treturn this.valpha === 1 ? [...this.color] : [...this.color, this.valpha];\n\t},\n\n\tobject() {\n\t\tconst result = {};\n\t\tconst {channels} = convert[this.model];\n\t\tconst {labels} = convert[this.model];\n\n\t\tfor (let i = 0; i < channels; i++) {\n\t\t\tresult[labels[i]] = this.color[i];\n\t\t}\n\n\t\tif (this.valpha !== 1) {\n\t\t\tresult.alpha = this.valpha;\n\t\t}\n\n\t\treturn result;\n\t},\n\n\tunitArray() {\n\t\tconst rgb = this.rgb().color;\n\t\trgb[0] /= 255;\n\t\trgb[1] /= 255;\n\t\trgb[2] /= 255;\n\n\t\tif (this.valpha !== 1) {\n\t\t\trgb.push(this.valpha);\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tunitObject() {\n\t\tconst rgb = this.rgb().object();\n\t\trgb.r /= 255;\n\t\trgb.g /= 255;\n\t\trgb.b /= 255;\n\n\t\tif (this.valpha !== 1) {\n\t\t\trgb.alpha = this.valpha;\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tround(places) {\n\t\tplaces = Math.max(places || 0, 0);\n\t\treturn new Color([...this.color.map(roundToPlace(places)), this.valpha], this.model);\n\t},\n\n\talpha(value) {\n\t\tif (value !== undefined) {\n\t\t\treturn new Color([...this.color, Math.max(0, Math.min(1, value))], this.model);\n\t\t}\n\n\t\treturn this.valpha;\n\t},\n\n\t// Rgb\n\tred: getset('rgb', 0, maxfn(255)),\n\tgreen: getset('rgb', 1, maxfn(255)),\n\tblue: getset('rgb', 2, maxfn(255)),\n\n\thue: getset(['hsl', 'hsv', 'hsl', 'hwb', 'hcg'], 0, value => ((value % 360) + 360) % 360),\n\n\tsaturationl: getset('hsl', 1, maxfn(100)),\n\tlightness: getset('hsl', 2, maxfn(100)),\n\n\tsaturationv: getset('hsv', 1, maxfn(100)),\n\tvalue: getset('hsv', 2, maxfn(100)),\n\n\tchroma: getset('hcg', 1, maxfn(100)),\n\tgray: getset('hcg', 2, maxfn(100)),\n\n\twhite: getset('hwb', 1, maxfn(100)),\n\twblack: getset('hwb', 2, maxfn(100)),\n\n\tcyan: getset('cmyk', 0, maxfn(100)),\n\tmagenta: getset('cmyk', 1, maxfn(100)),\n\tyellow: getset('cmyk', 2, maxfn(100)),\n\tblack: getset('cmyk', 3, maxfn(100)),\n\n\tx: getset('xyz', 0, maxfn(95.047)),\n\ty: getset('xyz', 1, maxfn(100)),\n\tz: getset('xyz', 2, maxfn(108.833)),\n\n\tl: getset('lab', 0, maxfn(100)),\n\ta: getset('lab', 1),\n\tb: getset('lab', 2),\n\n\tkeyword(value) {\n\t\tif (value !== undefined) {\n\t\t\treturn new Color(value);\n\t\t}\n\n\t\treturn convert[this.model].keyword(this.color);\n\t},\n\n\thex(value) {\n\t\tif (value !== undefined) {\n\t\t\treturn new Color(value);\n\t\t}\n\n\t\treturn colorString.to.hex(this.rgb().round().color);\n\t},\n\n\thexa(value) {\n\t\tif (value !== undefined) {\n\t\t\treturn new Color(value);\n\t\t}\n\n\t\tconst rgbArray = this.rgb().round().color;\n\n\t\tlet alphaHex = Math.round(this.valpha * 255).toString(16).toUpperCase();\n\t\tif (alphaHex.length === 1) {\n\t\t\talphaHex = '0' + alphaHex;\n\t\t}\n\n\t\treturn colorString.to.hex(rgbArray) + alphaHex;\n\t},\n\n\trgbNumber() {\n\t\tconst rgb = this.rgb().color;\n\t\treturn ((rgb[0] & 0xFF) << 16) | ((rgb[1] & 0xFF) << 8) | (rgb[2] & 0xFF);\n\t},\n\n\tluminosity() {\n\t\t// http://www.w3.org/TR/WCAG20/#relativeluminancedef\n\t\tconst rgb = this.rgb().color;\n\n\t\tconst lum = [];\n\t\tfor (const [i, element] of rgb.entries()) {\n\t\t\tconst chan = element / 255;\n\t\t\tlum[i] = (chan <= 0.04045) ? chan / 12.92 : ((chan + 0.055) / 1.055) ** 2.4;\n\t\t}\n\n\t\treturn 0.2126 * lum[0] + 0.7152 * lum[1] + 0.0722 * lum[2];\n\t},\n\n\tcontrast(color2) {\n\t\t// http://www.w3.org/TR/WCAG20/#contrast-ratiodef\n\t\tconst lum1 = this.luminosity();\n\t\tconst lum2 = color2.luminosity();\n\n\t\tif (lum1 > lum2) {\n\t\t\treturn (lum1 + 0.05) / (lum2 + 0.05);\n\t\t}\n\n\t\treturn (lum2 + 0.05) / (lum1 + 0.05);\n\t},\n\n\tlevel(color2) {\n\t\t// https://www.w3.org/TR/WCAG/#contrast-enhanced\n\t\tconst contrastRatio = this.contrast(color2);\n\t\tif (contrastRatio >= 7) {\n\t\t\treturn 'AAA';\n\t\t}\n\n\t\treturn (contrastRatio >= 4.5) ? 'AA' : '';\n\t},\n\n\tisDark() {\n\t\t// YIQ equation from http://24ways.org/2010/calculating-color-contrast\n\t\tconst rgb = this.rgb().color;\n\t\tconst yiq = (rgb[0] * 2126 + rgb[1] * 7152 + rgb[2] * 722) / 10000;\n\t\treturn yiq < 128;\n\t},\n\n\tisLight() {\n\t\treturn !this.isDark();\n\t},\n\n\tnegate() {\n\t\tconst rgb = this.rgb();\n\t\tfor (let i = 0; i < 3; i++) {\n\t\t\trgb.color[i] = 255 - rgb.color[i];\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tlighten(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[2] += hsl.color[2] * ratio;\n\t\treturn hsl;\n\t},\n\n\tdarken(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[2] -= hsl.color[2] * ratio;\n\t\treturn hsl;\n\t},\n\n\tsaturate(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[1] += hsl.color[1] * ratio;\n\t\treturn hsl;\n\t},\n\n\tdesaturate(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[1] -= hsl.color[1] * ratio;\n\t\treturn hsl;\n\t},\n\n\twhiten(ratio) {\n\t\tconst hwb = this.hwb();\n\t\thwb.color[1] += hwb.color[1] * ratio;\n\t\treturn hwb;\n\t},\n\n\tblacken(ratio) {\n\t\tconst hwb = this.hwb();\n\t\thwb.color[2] += hwb.color[2] * ratio;\n\t\treturn hwb;\n\t},\n\n\tgrayscale() {\n\t\t// http://en.wikipedia.org/wiki/Grayscale#Converting_color_to_grayscale\n\t\tconst rgb = this.rgb().color;\n\t\tconst value = rgb[0] * 0.3 + rgb[1] * 0.59 + rgb[2] * 0.11;\n\t\treturn Color.rgb(value, value, value);\n\t},\n\n\tfade(ratio) {\n\t\treturn this.alpha(this.valpha - (this.valpha * ratio));\n\t},\n\n\topaquer(ratio) {\n\t\treturn this.alpha(this.valpha + (this.valpha * ratio));\n\t},\n\n\trotate(degrees) {\n\t\tconst hsl = this.hsl();\n\t\tlet hue = hsl.color[0];\n\t\thue = (hue + degrees) % 360;\n\t\thue = hue < 0 ? 360 + hue : hue;\n\t\thsl.color[0] = hue;\n\t\treturn hsl;\n\t},\n\n\tmix(mixinColor, weight) {\n\t\t// Ported from sass implementation in C\n\t\t// https://github.com/sass/libsass/blob/0e6b4a2850092356aa3ece07c6b249f0221caced/functions.cpp#L209\n\t\tif (!mixinColor || !mixinColor.rgb) {\n\t\t\tthrow new Error('Argument to \"mix\" was not a Color instance, but rather an instance of ' + typeof mixinColor);\n\t\t}\n\n\t\tconst color1 = mixinColor.rgb();\n\t\tconst color2 = this.rgb();\n\t\tconst p = weight === undefined ? 0.5 : weight;\n\n\t\tconst w = 2 * p - 1;\n\t\tconst a = color1.alpha() - color2.alpha();\n\n\t\tconst w1 = (((w * a === -1) ? w : (w + a) / (1 + w * a)) + 1) / 2;\n\t\tconst w2 = 1 - w1;\n\n\t\treturn Color.rgb(\n\t\t\tw1 * color1.red() + w2 * color2.red(),\n\t\t\tw1 * color1.green() + w2 * color2.green(),\n\t\t\tw1 * color1.blue() + w2 * color2.blue(),\n\t\t\tcolor1.alpha() * p + color2.alpha() * (1 - p));\n\t},\n};\n\n// Model conversion methods and static constructors\nfor (const model of Object.keys(convert)) {\n\tif (skippedModels.includes(model)) {\n\t\tcontinue;\n\t}\n\n\tconst {channels} = convert[model];\n\n\t// Conversion methods\n\tColor.prototype[model] = function (...args) {\n\t\tif (this.model === model) {\n\t\t\treturn new Color(this);\n\t\t}\n\n\t\tif (args.length > 0) {\n\t\t\treturn new Color(args, model);\n\t\t}\n\n\t\treturn new Color([...assertArray(convert[this.model][model].raw(this.color)), this.valpha], model);\n\t};\n\n\t// 'static' construction methods\n\tColor[model] = function (...args) {\n\t\tlet color = args[0];\n\t\tif (typeof color === 'number') {\n\t\t\tcolor = zeroArray(args, channels);\n\t\t}\n\n\t\treturn new Color(color, model);\n\t};\n}\n\nfunction roundTo(number, places) {\n\treturn Number(number.toFixed(places));\n}\n\nfunction roundToPlace(places) {\n\treturn function (number) {\n\t\treturn roundTo(number, places);\n\t};\n}\n\nfunction getset(model, channel, modifier) {\n\tmodel = Array.isArray(model) ? model : [model];\n\n\tfor (const m of model) {\n\t\t(limiters[m] || (limiters[m] = []))[channel] = modifier;\n\t}\n\n\tmodel = model[0];\n\n\treturn function (value) {\n\t\tlet result;\n\n\t\tif (value !== undefined) {\n\t\t\tif (modifier) {\n\t\t\t\tvalue = modifier(value);\n\t\t\t}\n\n\t\t\tresult = this[model]();\n\t\t\tresult.color[channel] = value;\n\t\t\treturn result;\n\t\t}\n\n\t\tresult = this[model]().color[channel];\n\t\tif (modifier) {\n\t\t\tresult = modifier(result);\n\t\t}\n\n\t\treturn result;\n\t};\n}\n\nfunction maxfn(max) {\n\treturn function (v) {\n\t\treturn Math.max(0, Math.min(max, v));\n\t};\n}\n\nfunction assertArray(value) {\n\treturn Array.isArray(value) ? value : [value];\n}\n\nfunction zeroArray(array, length) {\n\tfor (let i = 0; i < length; i++) {\n\t\tif (typeof array[i] !== 'number') {\n\t\t\tarray[i] = 0;\n\t\t}\n\t}\n\n\treturn array;\n}\n\nmodule.exports = Color;\n","import React from \"react\";\r\nimport styled from 'styled-components';\r\n\r\nexport const StyledColumnManager = styled.div`\r\n    display: grid;\r\n    gap: 16px;\r\n    grid-template-columns: 1fr;\r\n\r\n    ${({ $tablet }) => $tablet ? `\r\n        @media(min-width: 512px) {\r\n            grid-template-columns: ${$tablet.join(' ')}\r\n        }\r\n    ` : ''}\r\n\r\n    ${({ $desktop }) => $desktop ? `\r\n        @media(min-width: 1024px) {\r\n            grid-template-columns: ${$desktop.join(' ')}\r\n        }\r\n    ` : ``}\r\n   \r\n`;\r\n\r\nexport interface IColumnManagerProps {\r\n    tablet?: string[];\r\n    desktop?: string[];\r\n}\r\n\r\nconst ColumnManager: React.FC<any> = ({ children, tablet, desktop }) => {\r\n    return (\r\n        <StyledColumnManager $tablet={tablet} $desktop={desktop}>\r\n            {children}\r\n        </StyledColumnManager >\r\n    );\r\n};\r\n\r\nexport default ColumnManager;\r\n","import React from \"react\";\r\nimport styled from 'styled-components';\r\n\r\nconst StyledDropdownInput = styled.select`\r\n\tfont-size: 110%;\r\n    min-width: 128px;\r\n\r\n\tpadding: 4px 8px;\r\n\r\n    cursor: pointer;\r\n    border-radius: 4px;\r\n\r\n\toption {\r\n\t\tcursor: pointer;\r\n\t}\r\n`;\r\n\r\ninterface IDropdownInputProps {\r\n\tvalue: any;\r\n\tsetValue: Function;\r\n\toptions: any[];\r\n\tidProperty?: string;\r\n\tdisplayProperty?: string;\r\n}\r\n\r\nconst DropdownInput: React.FC<IDropdownInputProps> = props => {\r\n\tconst { value, setValue, options, idProperty, displayProperty } = props;\r\n\r\n\treturn (\r\n\t\t<StyledDropdownInput\r\n\t\t\tclassName='dropdown-input'\r\n\t\t\tonChange={e => setValue(options[e.target.selectedIndex], e.target.selectedIndex)}\r\n\t\t\tvalue={value ? value[idProperty || 'id'] : ''}\r\n\t\t>\r\n\t\t\t{(options || []).map((v, i) => (\r\n\t\t\t\t<option key={i} value={v[idProperty || 'id']}>{displayProperty ? v[displayProperty] : v.name}</option>\r\n\t\t\t))}\r\n\t\t</StyledDropdownInput>\r\n\t);\r\n}\r\n\r\nexport default DropdownInput;\r\n","import color from 'color';\r\nimport IntervalSpan from '../models/Interval';\r\nimport Note from '../models/Note';\r\nimport { DEFAULT_DEGREE_COLOR_SCHEME } from '../theory/Degree.constants';\r\nimport { DEFAULT_PITCH_COLOR_SCHEME } from '../theory/Pitch.constants';\r\n\r\nexport enum ColorScheme {\r\n\tMonochrome,\r\n\tHighlightRoot,\r\n\tDegree,\r\n\tPitchClass,\r\n}\r\n\r\nexport interface IColorScheme {\r\n\tid: ColorScheme;\r\n\tname: string;\r\n\tdefaultConfig: string[]\r\n\tfn: (note?: Note, interval?: IntervalSpan, config?: string[]) => string | false;\r\n\tlabelFn: (index: number) => string;\r\n}\r\n\r\nconst RED = '#dd1122';\r\nconst BLACK = '#6b6b7b';\r\n\r\nexport const COLOR_SCHEMES: IColorScheme[] = [\r\n\t{\r\n\t\tid: ColorScheme.Monochrome,\r\n\t\tname: 'Monochrome',\r\n\t\tdefaultConfig: [BLACK],\r\n\t\tfn: (note, interval, config = [BLACK]) => note ? config[0] : false,\r\n\t\tlabelFn: (index) => '*'\r\n\t},\r\n\t{\r\n\t\tid: ColorScheme.HighlightRoot,\r\n\t\tname: 'Highlight Root',\r\n\t\tdefaultConfig: [RED, BLACK],\r\n\t\tfn: (note, interval, config = [RED, BLACK]) => interval ? (interval.getDegree() === 0 ? config[0] : config[1]) : false,\r\n\t\tlabelFn: (index) => index === 0 ? 'R' : '*'\r\n\t},\r\n\t{\r\n\t\tid: ColorScheme.Degree,\r\n\t\tname: 'Interval Degree',\r\n\t\tdefaultConfig: DEFAULT_DEGREE_COLOR_SCHEME,\r\n\t\tfn: (note, interval, config = DEFAULT_DEGREE_COLOR_SCHEME) => interval ? config[interval.getDegree() || 0] : false,\r\n\t\tlabelFn: (index) => index + 1 + ''\r\n\t},\r\n\t{\r\n\t\tid: ColorScheme.PitchClass,\r\n\t\tname: 'Pitch Class',\r\n\t\tdefaultConfig: DEFAULT_PITCH_COLOR_SCHEME,\r\n\t\tfn: (note, interval, config = DEFAULT_PITCH_COLOR_SCHEME) => note ? config[note.getPitchClass() || 0] : false,\r\n\t\tlabelFn: (index) => index + ''\r\n\t}\r\n];\r\n\r\nconst getFgColor = (bg?: string): string => {\r\n\tif (!bg) return \"#000\";\r\n\treturn color(bg).isDark() ? \"#fff\" : \"#000\";\r\n};\r\n\r\nconst getStylesFromBgColor = (bg?: string): any => {\r\n\tif (!bg) return {};\r\n\tconst fg = getFgColor(bg);\r\n\treturn {\r\n\t\tbackgroundColor: bg,\r\n\t\tcolor: fg\r\n\t}\r\n};\r\n\r\n/* const getColorFromContinuousScheme = (value, min, max, scheme) => {\r\n  let percent = (value - min) / (max - min);\r\n  percent = percent <= 0 ? 0 : percent >= 1 ? 1 : percent;\r\n\r\n  const initialColor = color(scheme.min);\r\n  const finalColor = color(scheme.max);\r\n  const background = initialColor.mix(finalColor, percent);\r\n\r\n  return background;\r\n}; */\r\n\r\nexport default {\r\n\tgetFgColor,\r\n\tgetStylesFromBgColor\r\n};\r\n","import styled from \"styled-components\";\r\nimport React from \"react\";\r\n\r\nexport const StyledCardSection = styled.div`\r\n  h3 {\r\n    text-transform: uppercase;\r\n    font-size: 80%;\r\n    margin-bottom: 8px;\r\n    color: ${(props) => props.theme.text.secondary};\r\n  }\r\n  & > .content {\r\n    background: ${(props) => props.theme.surface.bg};\r\n    border-radius: 8px;\r\n    padding: 8px;\r\n  }\r\n`;\r\n\r\nconst CardSection: React.FC<any> = ({ title, children }) => {\r\n  return (\r\n    <StyledCardSection>\r\n      {title && <h3>{title}</h3>}\r\n      <div className=\"content\">{children}</div>\r\n    </StyledCardSection>\r\n  );\r\n};\r\n\r\nexport default CardSection;\r\n","import { Link } from \"gatsby\";\r\nimport React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Chord from \"../../../core/models/Chord\";\r\nimport { IModelConfig } from \"../../../core/models/Model.constants\";\r\nimport Scale from \"../../../core/models/Scale\";\r\nimport { getModelRoute } from \"../../../core/routing/Routing.utils\";\r\nimport CardSection from \"./CardSection\";\r\nimport { MODEL_TYPE_OPTIONS } from \"./NotesCol\";\r\n\r\nconst StyledDetailsCol = styled.div`\r\n  .name {\r\n    font-size: 140%;\r\n    display: block;\r\n    padding: 8px;\r\n\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    flex-direction: column;\r\n  }\r\n  .info {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n\r\n    .item {\r\n      margin: 8px;\r\n      text-align: center;\r\n      .note {\r\n        font-weight: bold;\r\n        font-size: 120%;\r\n      }\r\n      .interval {\r\n        color: ${(props) => props.theme.text.secondary};\r\n      }\r\n    }\r\n  }\r\n  .notes {\r\n    min-height: 128px;\r\n\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    flex-direction: column;\r\n  }\r\n`;\r\n\r\nexport interface IDetailsColProps {\r\n  modelType: typeof MODEL_TYPE_OPTIONS[0];\r\n  modelConfig;\r\n  root: IModelConfig | any;\r\n  model: Chord | Scale;\r\n  setModelType?;\r\n  setModelConfig?;\r\n  setRoot?;\r\n  setModel?;\r\n}\r\n\r\nconst DetailsCol: React.FC<IDetailsColProps> = (props) => {\r\n  const {\r\n    modelType,\r\n    modelConfig,\r\n    root,\r\n    setModelType: _setModelType,\r\n    setModelConfig: _setModelConfig,\r\n    setRoot: _setRoot,\r\n    model,\r\n  } = props;\r\n\r\n  return (\r\n    <StyledDetailsCol>\r\n      <CardSection>\r\n        <div className=\"notes\">\r\n          <Link\r\n            to={getModelRoute(modelType.id, modelConfig.modelId, root.modelId)}\r\n            className=\"name\"\r\n          >\r\n            {model.name}\r\n          </Link>\r\n          <div className=\"info\">\r\n            {model.notes &&\r\n              model.notes.map((note, i) => (\r\n                <div key={i} className=\"item\">\r\n                  <div className=\"note\">{note.name}</div>\r\n                  <div className=\"interval\">{model.intervals[i].getName()}</div>\r\n                </div>\r\n              ))}\r\n          </div>\r\n        </div>\r\n      </CardSection>\r\n    </StyledDetailsCol>\r\n  );\r\n};\r\n\r\nexport default DetailsCol;\r\n","import React from \"react\";\r\nimport styled from 'styled-components';\r\nimport Icon from \"../ui/Icon\";\r\nimport ButtonInput from \"./ButtonInput\";\r\n\r\nexport const StyledNumbericInput = styled.div`\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\r\n\tinput, button {\r\n\t\theight: 32px;\r\n\t\tpadding: 0;\r\n\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\tbutton {\r\n\t\twidth: 32px;\r\n\t\tborder: 1px solid ${({ theme }) => theme.utils.border};\r\n\t\tsvg, svg * {\r\n\t\t\tfill: white;\r\n\t\t}\r\n\r\n\t\tbackground-color: ${({ theme }) => theme.status.interactive};\r\n\t\tcolor: white;\r\n\t\t&:hover {\r\n\t\t\tbackground-color: ${({ theme }) => theme.status.active};\r\n\t\t}\r\n\r\n\t\t:first-child {\r\n\t\t\tborder-right: none;\r\n\t\t\tborder-radius: 8px 0 0 8px;\r\n\t\t}\r\n\t\t:last-child {\r\n\t\t\tborder-left: none;\r\n\t\t\tborder-radius: 0 8px 8px 0\r\n\t\t}\r\n\t}\r\n\r\n\tinput {\r\n\t\twidth: 48px;\r\n\t\tcursor: pointer;\r\n\t\tborder: none;\r\n\t\tfont-weight: bold;\r\n\t\ttext-align: center;\r\n\t\tbackground-color: white;\r\n\t\t&:hover {\r\n\t\t\tbackground-color: ${({ theme }) => theme.status.highlight};\r\n\t\t}\r\n\r\n\t\tborder: 1px solid ${({ theme }) => theme.utils.border};\r\n\t}\r\n    \r\n\tfont-size: 110%;\r\n\tcursor: pointer;\r\n`;\r\n\r\ninterface INumericInputProps {\r\n\tvalue: number;\r\n\tsetValue: (number) => void;\r\n\tmin?: number;\r\n\tmax?: number;\r\n}\r\n\r\nconst NumericInput: React.FC<INumericInputProps> = ({ value, setValue, ...rest }) => {\r\n\tconst onChange = e => setValue(parseInt(e.target.value));\r\n\r\n\tconst onDown = () => {\r\n\t\tlet newVal = value - 1;\r\n\t\tif (typeof rest.min !== 'undefined') {\r\n\t\t\tnewVal = Math.max(rest.min, newVal);\r\n\t\t}\r\n\t\tsetValue(newVal);\r\n\t};\r\n\r\n\tconst onUp = () => {\r\n\t\tlet newVal = value + 1;\r\n\t\tif (typeof rest.max !== 'undefined') {\r\n\t\t\tnewVal = Math.min(rest.max, newVal);\r\n\t\t}\r\n\t\tsetValue(newVal);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<StyledNumbericInput>\r\n\t\t\t<ButtonInput onClick={onDown}><Icon iconId=\"minus\" size={12} /></ButtonInput>\r\n\t\t\t<input type=\"number\" value={value} onChange={null} {...rest} />\r\n\t\t\t<ButtonInput onClick={onUp}><Icon iconId=\"plus\" size={12} /></ButtonInput>\r\n\t\t</StyledNumbericInput>\r\n\t);\r\n}\r\n\r\nexport default NumericInput;\r\n","import React from \"react\";\r\nimport {\r\n  FRETBOARD_TUNING_VALUES,\r\n  TuningId,\r\n} from \"../../../viewers/fretboard/Fretboard.tuning\";\r\nimport { DEFAULT_FRETBOARD_PROPS } from \"../../../viewers/fretboard/Fretboard.utils\";\r\nimport {\r\n  VoicingId,\r\n  VOICING_PRESETS,\r\n} from \"../../../viewers/fretboard/Fretboard.voicing\";\r\nimport DropdownInput from \"../../inputs/DropdownInput\";\r\nimport NumericInput from \"../../inputs/NumericInput\";\r\nimport InputRow from \"../../ui/InputRow\";\r\nimport CardSection from \"./CardSection\";\r\n\r\nconst VOICING_OPTIONS = [\r\n  {\r\n    id: VoicingId.None,\r\n    name: \"---\",\r\n    value: undefined,\r\n  },\r\n  ...VOICING_PRESETS,\r\n];\r\n\r\nexport interface IFretboardColProps {\r\n  voicing;\r\n  tuning;\r\n  fretRange;\r\n  setVoicing;\r\n  setTuning;\r\n  setFretRange;\r\n  model;\r\n}\r\n\r\nexport const DEFAULT_VOICING = VOICING_OPTIONS[0];\r\nexport const DEFAULT_TUNING = FRETBOARD_TUNING_VALUES[0];\r\nexport const DEFAULT_FRET_RANGE = DEFAULT_FRETBOARD_PROPS.fretRange;\r\n\r\nconst FretboardCol: React.FC<IFretboardColProps> = ({\r\n  model,\r\n  voicing,\r\n  tuning,\r\n  fretRange,\r\n  setVoicing,\r\n  setTuning,\r\n  setFretRange,\r\n}) => {\r\n  const filteredVoicings = VOICING_OPTIONS.filter((v) => {\r\n    if (!v.value) return true;\r\n    const containsNonModelIntervals = v.value.some(\r\n      (x) => x && !model.intervals.find((ivl) => ivl.pod[1] + 1 === x)\r\n    );\r\n    return !containsNonModelIntervals;\r\n  });\r\n\r\n  const [fretLo, fretHi] = fretRange;\r\n\r\n  return (\r\n    <>\r\n      <CardSection title=\"Tuning\">\r\n        <InputRow label=\"Preset\">\r\n          <DropdownInput\r\n            value={tuning}\r\n            setValue={setTuning}\r\n            options={FRETBOARD_TUNING_VALUES}\r\n          />\r\n        </InputRow>\r\n        {tuning.id === TuningId.Standard && (\r\n          <InputRow label=\"Voicing\">\r\n            <DropdownInput\r\n              value={voicing}\r\n              setValue={setVoicing}\r\n              options={filteredVoicings}\r\n            />\r\n          </InputRow>\r\n        )}\r\n      </CardSection>\r\n      <CardSection title=\"Range\">\r\n        <InputRow label=\"Low Fret\">\r\n          <NumericInput\r\n            value={fretLo}\r\n            min={0}\r\n            max={fretHi}\r\n            setValue={(v) => setFretRange([v, fretHi])}\r\n          />\r\n        </InputRow>\r\n        <InputRow label=\"High Fret\">\r\n          <NumericInput\r\n            value={fretHi}\r\n            min={fretLo}\r\n            max={24}\r\n            setValue={(v) => setFretRange([fretLo, v])}\r\n          />\r\n        </InputRow>\r\n      </CardSection>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FretboardCol;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport ButtonInput from '../inputs/ButtonInput';\r\nimport Card, { StyledCard } from '../ui/Card';\r\nimport Icon from '../ui/Icon';\r\n\r\nconst StyledOverlay = styled.div`\r\n    //width: 100vw;\r\n    //height: 100vw;\r\n    opacity: 0.8;\r\n    background-color: black;\r\n    position: fixed;\r\n    top: 48px;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    z-index: 3000;\r\n`\r\n\r\nconst StyledContainer = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    position: fixed;\r\n    top: 48px;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    z-index: 3001;\r\n\r\n    & > ${StyledCard} {\r\n        width: 80%;\r\n        height: 80%;\r\n        position: relative;\r\n        padding: 64px 16px;\r\n\r\n        overflow: auto;\r\n        resize: both;\r\n\r\n        .close {\r\n            position: absolute;\r\n            top: 16px;\r\n            right: 16px;\r\n            background-color: transparent !important;\r\n        }\r\n    }\r\n`\r\n\r\nconst Modal: React.FC<any> = ({ setIsOpen, children, ...rest }) => {\r\n    return (\r\n        <>\r\n            <StyledOverlay />\r\n            <StyledContainer >\r\n                <Card {...rest} draggable=\"true\">\r\n                    <ButtonInput onClick={() => setIsOpen(false)} className=\"close\">\r\n                        <Icon iconId='close' />\r\n                    </ButtonInput>\r\n                    {children}\r\n                </Card>\r\n            </StyledContainer>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Modal;\r\n","import React from \"react\";\r\nimport styled from 'styled-components';\r\nimport Modal from \"../../layout/Modal\";\r\n\r\nconst StyledMainCol = styled.div`\r\n    padding: 16px;\r\n    .maximize {\r\n        background-color: transparent !important;\r\n    }\r\n`;\r\n\r\ninterface IMainColProps {\r\n    viewer: any;\r\n    isFullScreen: boolean;\r\n    setIsFullScreen: Function;\r\n}\r\n\r\nconst MainCol: React.FC<IMainColProps> = (props) => {\r\n\r\n    const { viewer, isFullScreen, setIsFullScreen } = props;\r\n\r\n    return (\r\n        <>\r\n            {isFullScreen && (\r\n                <Modal setIsOpen={setIsFullScreen}>\r\n                    <div className=\"resize\">\r\n                        {viewer}\r\n                    </div>\r\n                </Modal>\r\n            )}\r\n            <StyledMainCol>\r\n                {viewer}\r\n            </StyledMainCol>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default MainCol;\r\n","import React from 'react';\r\nimport ButtonInput from \"../../inputs/ButtonInput\";\r\nimport Icon from \"../../ui/Icon\";\r\nimport styled from 'styled-components';\r\n\r\nconst StyledMaximizeButton = styled(ButtonInput)`\r\n    background-color: transparent !important;\r\n`\r\n\r\nconst MaximizeButton = props => {\r\n    return (\r\n        <StyledMaximizeButton {...props}>\r\n            <Icon iconId=\"maximize\" size={24} />\r\n        </StyledMaximizeButton>\r\n    );\r\n}\r\n\r\nexport default MaximizeButton;\r\n","import React from \"react\";\r\nimport styled from 'styled-components';\r\n\r\nconst StyledColorSchemeInput = styled.div`\r\n\tpadding: 4px 8px;\r\n\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: flex-end;\r\n    gap: 4px;\r\n\r\n    & > div {\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        gap: 4px;\r\n        font-size: 80%;\r\n        color: ${props => props.theme.text.secondary};\r\n    }\r\n\r\n    input {\r\n        height: 32px;\r\n        width: 32px;\r\n        cursor: pointer;\r\n    }\r\n`;\r\n\r\ninterface IColorSchemeInputProps {\r\n    value: string[];\r\n    setValue: Function;\r\n    labelFn: Function;\r\n}\r\n\r\nconst ColorSchemeInput: React.FC<IColorSchemeInputProps> = props => {\r\n    const { value, setValue, labelFn } = props;\r\n\r\n    return (\r\n        <StyledColorSchemeInput>\r\n            {value.map((v, i) => (\r\n                <div>\r\n                    <input type=\"color\"\r\n                        value={v}\r\n                        onChange={e => setValue([...value.slice(0, i), e.target.value, ...value.slice(i + 1)])}\r\n                    />\r\n                    <label>\r\n                        {labelFn(i)}\r\n                    </label>\r\n                </div>\r\n            ))}\r\n        </StyledColorSchemeInput>\r\n    );\r\n}\r\n\r\nexport default ColorSchemeInput;\r\n","import React from \"react\";\r\nimport { COLOR_SCHEMES, IColorScheme } from \"../../../core/color/Color.utils\";\r\nimport Chord from \"../../../core/models/Chord\";\r\nimport {\r\n  ChordId,\r\n  IModelConfig,\r\n  ModelId,\r\n  ModelType,\r\n  NoteId,\r\n  ScaleId,\r\n} from \"../../../core/models/Model.constants\";\r\nimport {\r\n  CHORD_PRESETS,\r\n  NOTE_PRESETS,\r\n  SCALE_PRESETS,\r\n} from \"../../../core/models/Model.presets\";\r\nimport Note from \"../../../core/models/Note\";\r\nimport Scale from \"../../../core/models/Scale\";\r\nimport ColorSchemeInput from \"../../inputs/ColorSchemeInput\";\r\nimport DropdownInput from \"../../inputs/DropdownInput\";\r\nimport InputRow from \"../../ui/InputRow\";\r\nimport CardSection from \"./CardSection\";\r\n\r\nexport const MODEL_TYPE_OPTIONS = [\r\n  {\r\n    id: ModelType.Chord,\r\n    name: \"Chords\",\r\n    value: ModelType.Chord,\r\n    data: CHORD_PRESETS,\r\n  },\r\n  {\r\n    id: ModelType.Scale,\r\n    name: \"Scales\",\r\n    value: ModelType.Scale,\r\n    data: SCALE_PRESETS,\r\n  },\r\n];\r\n\r\nexport interface INotesColProps {\r\n  modelType: typeof MODEL_TYPE_OPTIONS[0];\r\n  modelConfig;\r\n  root: IModelConfig | any;\r\n  model: Chord | Scale;\r\n  setModelType?;\r\n  setModelConfig?;\r\n  setRoot?;\r\n  setModel?;\r\n  colorScheme: IColorScheme;\r\n  setColorScheme;\r\n  colorConfig: string[];\r\n  setColorConfig;\r\n}\r\n\r\nexport const DEFAULT_MODEL_TYPE = MODEL_TYPE_OPTIONS[0];\r\nexport const DEFAULT_MODEL_CONFIG = MODEL_TYPE_OPTIONS[0].data[0];\r\nexport const DEFAULT_ROOT = NOTE_PRESETS[0];\r\n\r\nexport const getNewModel = (\r\n  modelType: ModelType,\r\n  modelId: ModelId,\r\n  root: NoteId\r\n) => {\r\n  let newModel;\r\n  if (modelType === ModelType.Chord) {\r\n    newModel = new Chord(modelId as ChordId, { root: Note.fromId(root) });\r\n  } else if (modelType === ModelType.Scale) {\r\n    newModel = new Scale(modelId as ScaleId, { root: Note.fromId(root) });\r\n  }\r\n  return newModel;\r\n};\r\n\r\nconst NotesCol: React.FC<INotesColProps> = (props) => {\r\n  const {\r\n    modelType,\r\n    modelConfig,\r\n    root,\r\n    setModelType: _setModelType,\r\n    setModelConfig: _setModelConfig,\r\n    setRoot: _setRoot,\r\n    model,\r\n    setModel,\r\n    colorScheme,\r\n    setColorScheme,\r\n    colorConfig,\r\n    setColorConfig,\r\n  } = props;\r\n  const modelOptions = modelType.data;\r\n\r\n  const setModelType = (type) => {\r\n    _setModelType(type);\r\n    _setModelConfig(type.data[0]);\r\n  };\r\n  const setModelConfig = (config) => {\r\n    let newModel = getNewModel(config.modelType, config.modelId, root.modelId);\r\n    _setModelConfig(config);\r\n    setModel(newModel);\r\n  };\r\n  const setRoot = (newRoot) => {\r\n    let newModel = getNewModel(\r\n      modelConfig.modelType,\r\n      modelConfig.modelId,\r\n      newRoot.modelId\r\n    );\r\n    _setRoot(newRoot);\r\n    setModel(newModel);\r\n  };\r\n\r\n  //console.log('dpb', MODEL_TYPE_OPTIONS, modelType, modelOptions, modelConfig)\r\n\r\n  return (\r\n    <>\r\n      <CardSection title=\"Root\">\r\n        <InputRow label=\"Key Center\">\r\n          <DropdownInput\r\n            value={root}\r\n            setValue={setRoot}\r\n            options={NOTE_PRESETS}\r\n            idProperty=\"modelId\"\r\n          />\r\n        </InputRow>\r\n      </CardSection>\r\n      <CardSection title=\"Intervals\">\r\n        <InputRow label=\"Model Type\">\r\n          <DropdownInput\r\n            value={modelType}\r\n            setValue={setModelType}\r\n            options={MODEL_TYPE_OPTIONS}\r\n            idProperty=\"id\"\r\n          />\r\n        </InputRow>\r\n        <InputRow label=\"Preset\">\r\n          <DropdownInput\r\n            value={modelConfig}\r\n            setValue={setModelConfig}\r\n            options={modelOptions}\r\n            idProperty=\"modelId\"\r\n          />\r\n        </InputRow>\r\n      </CardSection>\r\n      <CardSection title=\"Colors\">\r\n        <InputRow label=\"Color Scheme\">\r\n          <DropdownInput\r\n            value={colorScheme}\r\n            setValue={setColorScheme}\r\n            options={COLOR_SCHEMES}\r\n            idProperty=\"id\"\r\n          />\r\n        </InputRow>\r\n        <InputRow label=\"Color Config\">\r\n          <ColorSchemeInput\r\n            value={colorConfig}\r\n            setValue={setColorConfig}\r\n            labelFn={colorScheme.labelFn}\r\n          />\r\n        </InputRow>\r\n      </CardSection>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NotesCol;\r\n","import { useQueryParam } from \"use-query-params\";\r\n\r\nconst useModelQueryParams = () => {\r\n    const [qpModelType] = useQueryParam('modelType');\r\n    const [qpModelId] = useQueryParam('modelId');\r\n    const [qpRootId] = useQueryParam('rootId');\r\n\r\n    return [qpModelType, qpModelId, qpRootId];\r\n}\r\n\r\nexport default useModelQueryParams;\r\n","import { useState } from \"react\";\r\nimport { NOTE_PRESETS } from \"../../../core/models/Model.presets\";\r\nimport { DEFAULT_MODEL_CONFIG, DEFAULT_MODEL_TYPE, DEFAULT_ROOT, getNewModel, MODEL_TYPE_OPTIONS } from \"./NotesCol\";\r\n\r\nconst getInitModelType = (qpModelType?: string) => {\r\n    const found = MODEL_TYPE_OPTIONS.find(type => type.id && type.id === qpModelType);\r\n    return found || DEFAULT_MODEL_TYPE;\r\n}\r\n\r\nconst getInitModelConfig = (modelType, qpModelId?: string) => {\r\n    const found = modelType.data.find(preset => preset.modelId === qpModelId);\r\n    return found || DEFAULT_MODEL_CONFIG;\r\n}\r\n\r\nconst getInitRoot = (qpRootId?: string) => {\r\n    const found = NOTE_PRESETS.find(note => note.modelId === qpRootId);\r\n    return found || DEFAULT_ROOT;\r\n}\r\n\r\nexport const useModelState = (initModelType, initModelId, initRootId) => {\r\n    const [modelType, setModelType] = useState(getInitModelType(initModelType));\r\n    const [modelConfig, setModelConfig] = useState(getInitModelConfig(modelType, initModelId));\r\n\r\n    const [root, setRoot] = useState(getInitRoot(initRootId));\r\n    const [model, setModel] = useState(getNewModel(modelType.id, modelConfig.modelId, root.modelId));\r\n\r\n    return {\r\n        modelType,\r\n        setModelType,\r\n        modelConfig,\r\n        setModelConfig,\r\n        root,\r\n        setRoot,\r\n        model,\r\n        setModel\r\n    }\r\n}\r\n","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { COLOR_SCHEMES } from \"../../../core/color/Color.utils\";\r\nimport IntervalSpan from \"../../../core/models/Interval\";\r\nimport FretTable from \"../../../viewers/fret-table/FretTable\";\r\nimport {\r\n  IFretProps,\r\n  isIntervalInVoicing,\r\n} from \"../../../viewers/fretboard/Fretboard.utils\";\r\nimport ColumnManager from \"../../column-manager/ColumnManager\";\r\nimport PageLayout from \"../../layout/PageLayout\";\r\nimport Card from \"../../ui/Card\";\r\nimport { StyledCardSection } from \"./CardSection\";\r\nimport DetailsCol from \"./DetailsCol\";\r\nimport FretboardCol, {\r\n  DEFAULT_FRET_RANGE,\r\n  DEFAULT_TUNING,\r\n  DEFAULT_VOICING,\r\n} from \"./FretboardCol\";\r\nimport MainCol from \"./MainCol\";\r\nimport MaximizeButton from \"./MaximizeButton\";\r\nimport NotesCol from \"./NotesCol\";\r\nimport useModelQueryParams from \"./useModelQueryParams\";\r\nimport { useModelState } from \"./useModelState\";\r\n\r\nconst StyledFretboardPage = styled(PageLayout)`\r\n  ${StyledCardSection} {\r\n    margin-top: 16px;\r\n  }\r\n`;\r\n\r\nconst Page: React.FC = () => {\r\n  const [qpModelType, qpModelId, qpRootId] = useModelQueryParams();\r\n  const modelState = useModelState(qpModelType, qpModelId, qpRootId);\r\n  const {\r\n    modelType,\r\n    setModelType,\r\n    modelConfig,\r\n    setModelConfig,\r\n    root,\r\n    setRoot,\r\n    model,\r\n    setModel,\r\n  } = modelState;\r\n\r\n  const [voicing, setVoicing] = useState(DEFAULT_VOICING);\r\n  const [tuning, setTuning] = useState(DEFAULT_TUNING);\r\n  const [fretRange, setFretRange] = useState(DEFAULT_FRET_RANGE);\r\n  const [isFullScreen, setIsFullScreen] = useState(false);\r\n  const [colorScheme, _setColorScheme] = useState(COLOR_SCHEMES[1]);\r\n  const [colorConfig, setColorConfig] = useState(colorScheme.defaultConfig);\r\n\r\n  const setColorScheme = (cs) => {\r\n    _setColorScheme(cs);\r\n    setColorConfig(cs.defaultConfig);\r\n  };\r\n\r\n  const instrumentColProps = {\r\n    model,\r\n    voicing,\r\n    setVoicing,\r\n    tuning,\r\n    setTuning,\r\n    fretRange,\r\n    setFretRange,\r\n  };\r\n\r\n  const notesColProps = {\r\n    modelType,\r\n    setModelType,\r\n    modelConfig,\r\n    setModelConfig,\r\n    root,\r\n    setRoot,\r\n    model,\r\n    setModel,\r\n    instrumentName: \"Fretboard\",\r\n    instrumentTuning: instrumentColProps.tuning.name,\r\n    colorScheme,\r\n    setColorScheme,\r\n    colorConfig,\r\n    setColorConfig,\r\n  };\r\n\r\n  const colorMapFn = (props: IFretProps) => {\r\n    const { stringIndex, fretIndex, tuning, model, voicing } = props;\r\n    // @ts-ignore\r\n    const noteIndex = tuning[stringIndex] + fretIndex;\r\n    // @ts-ignore\r\n    const [interval, note] = model.tryGetPodPairAtPitch(noteIndex);\r\n\r\n    const cs = COLOR_SCHEMES.find((cs) => cs.id === colorScheme.id);\r\n\r\n    if (!cs) return;\r\n\r\n    const color = cs.fn(note, interval, colorConfig);\r\n\r\n    if (\r\n      color &&\r\n      voicing &&\r\n      !isIntervalInVoicing(interval as IntervalSpan, voicing, stringIndex)\r\n    ) {\r\n      return `${color}33`;\r\n    }\r\n\r\n    return color;\r\n  };\r\n\r\n  const mainColProps = {\r\n    isFullScreen,\r\n    setIsFullScreen,\r\n    viewer: (\r\n      <FretTable\r\n        {...instrumentColProps}\r\n        {...notesColProps}\r\n        colorMapFn={colorMapFn as any}\r\n        tuning={instrumentColProps.tuning.value}\r\n      />\r\n    ),\r\n  };\r\n\r\n  return (\r\n    <StyledFretboardPage\r\n      title=\"Fretboard\"\r\n      subtitle={model.name}\r\n      action={<MaximizeButton onClick={() => setIsFullScreen(true)} />}\r\n    >\r\n      <ColumnManager desktop={[\"1fr\", \"1fr\"]}>\r\n        <MainCol {...mainColProps} />\r\n        <div>\r\n          <Card>\r\n            <DetailsCol {...notesColProps} />\r\n            <NotesCol {...notesColProps} />\r\n            <FretboardCol {...instrumentColProps} />\r\n          </Card>\r\n        </div>\r\n      </ColumnManager>\r\n    </StyledFretboardPage>\r\n  );\r\n};\r\n\r\nexport default Page;\r\n","import React, { PropsWithChildren } from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const StyledCard = styled.div`\r\n  background: ${(props) => props.theme.surface.card};\r\n  width: 100%;\r\n  border-radius: 16px;\r\n  padding: 16px;\r\n\r\n  .header {\r\n    margin-bottom: 16px;\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 8px;\r\n    justify-content: space-between;\r\n  }\r\n`;\r\n\r\nexport const CardHeader: React.FC<any> = ({\r\n  title,\r\n  level = 2,\r\n  action = null,\r\n}) => {\r\n  const AsTag: any = `h${level}`;\r\n  return (\r\n    <div className=\"header\">\r\n      <AsTag>{title}</AsTag>\r\n      {action}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport interface ICardProps extends PropsWithChildren<any> {\r\n  title?: string;\r\n  subtitle?: string;\r\n  action?: any;\r\n  level?: number;\r\n}\r\n\r\nconst Card: React.FC<ICardProps> = ({\r\n  title,\r\n  subtitle,\r\n  action,\r\n  children,\r\n  level = 1,\r\n  ...rest\r\n}) => {\r\n  return (\r\n    <StyledCard {...rest}>\r\n      {title && <CardHeader title={title} action={action} level={level} />}\r\n      {subtitle && <CardHeader title={subtitle} level={level + 1} />}\r\n      {children}\r\n    </StyledCard>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nexport const StyledInputRow = styled.div`\r\n    display: flex;\r\n    align-items: flex-start;\r\n    flex-direction: column;\r\n    width: 100%;\r\n\r\n    ${props => props.$y ? '' : `\r\n        @media(min-width: 512px) {\r\n            align-items: center;\r\n            flex-direction: row;\r\n            justify-content: space-between;\r\n            //margin-bottom: 8px;\r\n        }\r\n    `}\r\n\r\n    > label {\r\n        color: ${({ theme }) => theme.dark3};\r\n        font-weight: bold;\r\n        margin: 8px;\r\n        white-space: nowrap;\r\n    }\r\n`;\r\n\r\nconst InputRow = ({ label, children, y = false, ...rest }) => {\r\n    return (\r\n        <StyledInputRow $y={y} {...rest}>\r\n            <label>{label}</label>\r\n            <div>\r\n                {children}\r\n            </div>\r\n        </StyledInputRow>\r\n    );\r\n}\r\n\r\nexport default InputRow;\r\n","import { Link } from \"gatsby\";\r\nimport React, { Fragment, ReactNode } from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst StyledTable = styled.table``;\r\n\r\ntype TOmit = undefined | null | false;\r\n\r\nconst getIsTypeOmit = (data: any): data is TOmit =>\r\n  data === undefined || data === null || data === false;\r\n\r\n// Col\r\n\r\nexport interface IColConfig {\r\n  isHeader?: boolean;\r\n  content: any;\r\n  colSpan?: number;\r\n  className?: string;\r\n  link?: string;\r\n}\r\n\r\ninterface IColProps extends IColConfig {\r\n  index: number;\r\n}\r\n\r\ntype TCol = string | number | IColConfig | ReactNode;\r\n\r\nconst Col: React.FC<IColProps> = ({\r\n  index,\r\n  isHeader,\r\n  content,\r\n  colSpan,\r\n  className,\r\n  link,\r\n}) => {\r\n  const ColTag = isHeader ? \"th\" : \"td\";\r\n  const WrapperTag = link ? Link : Fragment;\r\n  const wrapperProps: any = link ? { to: link } : {};\r\n\r\n  return (\r\n    <ColTag colSpan={colSpan} className={className}>\r\n      <WrapperTag {...wrapperProps}>{content || \"\"}</WrapperTag>\r\n    </ColTag>\r\n  );\r\n};\r\n\r\n// Row\r\n\r\nexport interface IRowConfig {\r\n  cols: (TCol | TOmit)[];\r\n  className?: string;\r\n  isHeader?: boolean;\r\n  headerColIndicies?: number[];\r\n}\r\n\r\nconst getIsConfig = (col: TCol): col is IColConfig =>\r\n  typeof col === \"object\" && col !== null && col.hasOwnProperty(\"content\");\r\n\r\nconst Row: React.FC<IRowConfig> = ({\r\n  cols,\r\n  isHeader,\r\n  className,\r\n  headerColIndicies = [],\r\n}) => {\r\n  return (\r\n    <tr className={className}>\r\n      {cols.map((col: any, i) => {\r\n        if (getIsTypeOmit(col)) return null;\r\n        const isConfig = getIsConfig(col);\r\n        const colConfig = !isConfig ? { content: col } : col;\r\n        return (\r\n          <Col\r\n            key={i}\r\n            index={i}\r\n            isHeader={isHeader || headerColIndicies.includes(i)}\r\n            {...colConfig}\r\n          />\r\n        );\r\n      })}\r\n    </tr>\r\n  );\r\n};\r\n\r\n// Table Section\r\n\r\ninterface ITableSectionConfig {\r\n  Tag: \"thead\" | \"tfoot\" | \"tbody\";\r\n  rows: (IRowConfig | TOmit)[];\r\n  headerColIndicies?: number[];\r\n}\r\n\r\nconst TableSection: React.FC<ITableSectionConfig> = ({\r\n  Tag,\r\n  rows,\r\n  headerColIndicies,\r\n}) => (\r\n  <Tag>\r\n    {rows.map((row, i) => {\r\n      if (getIsTypeOmit(row)) return null;\r\n      return (\r\n        <Row\r\n          key={i}\r\n          isHeader={Tag !== \"tbody\"}\r\n          headerColIndicies={headerColIndicies}\r\n          {...row}\r\n        />\r\n      );\r\n    })}\r\n  </Tag>\r\n);\r\n\r\n// Table\r\n\r\ninterface IColGroup {\r\n  span?: number;\r\n  className?: string;\r\n}\r\n\r\nexport interface ITableConfig {\r\n  thead?: (IRowConfig | TOmit)[];\r\n  tfoot?: (IRowConfig | TOmit)[];\r\n  tbody: (IRowConfig | TOmit)[];\r\n  styles?: any;\r\n  caption?: string;\r\n  colGroups?: IColGroup[];\r\n  className?: string;\r\n  headerColIndicies?: number[];\r\n}\r\n\r\nexport const Table: React.FC<ITableConfig> = ({\r\n  thead,\r\n  tfoot,\r\n  tbody,\r\n  styles,\r\n  colGroups,\r\n  caption,\r\n  headerColIndicies,\r\n  className,\r\n}) => {\r\n  return (\r\n    <StyledTable css={styles} className={className}>\r\n      {colGroups && (\r\n        <colgroup>\r\n          {colGroups.map((cg, i) => (\r\n            <col key={i} {...cg} />\r\n          ))}\r\n        </colgroup>\r\n      )}\r\n      {caption && <caption>{caption}</caption>}\r\n      {thead && (\r\n        <TableSection\r\n          Tag=\"thead\"\r\n          rows={thead}\r\n          headerColIndicies={headerColIndicies}\r\n        />\r\n      )}\r\n      {tfoot && (\r\n        <TableSection\r\n          Tag=\"tfoot\"\r\n          rows={tfoot}\r\n          headerColIndicies={headerColIndicies}\r\n        />\r\n      )}\r\n      {tbody && (\r\n        <TableSection\r\n          Tag=\"tbody\"\r\n          rows={tbody}\r\n          headerColIndicies={headerColIndicies}\r\n        />\r\n      )}\r\n    </StyledTable>\r\n  );\r\n};\r\n","import { ModelId, ModelType, NoteId } from \"../models/Model.constants\";\r\n\r\nexport const getModelRoute = (\r\n  modelType: ModelType,\r\n  modelId?: ModelId,\r\n  rootId?: NoteId\r\n) => {\r\n  const modelSuffix = modelId ? `/${modelId}` : \"\";\r\n  const rootSuffix = rootId ? `/root/${rootId}` : \"\";\r\n\r\n  return `/browse/${modelType}${modelSuffix}${rootSuffix}/`;\r\n};\r\n","import * as React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\ninterface IFretFlagProps {\r\n  color?: string;\r\n  text?: string | number;\r\n  opacity?: number;\r\n}\r\n\r\nexport const StyledFretFlag = styled.div<{\r\n  $color?: string;\r\n  $opacity?: number;\r\n}>`\r\n  height: 16px;\r\n  width: 16px;\r\n  background: ${(props) => props.$color || \"\"};\r\n  opacity: ${(props) => props.$opacity || 1};\r\n  border-radius: 100%;\r\n  z-index: 1;\r\n`;\r\n\r\nconst FretFlag: React.FC<IFretFlagProps> = ({ color, text, opacity }) => {\r\n  return (\r\n    <StyledFretFlag $color={color} $opacity={opacity}>\r\n      {text}\r\n    </StyledFretFlag>\r\n  );\r\n};\r\n\r\nexport default FretFlag;\r\n","import * as React from \"react\";\r\nimport styled, { css } from \"styled-components\";\r\nimport { IColConfig, IRowConfig, Table } from \"../../components/ui/Table\";\r\nimport {\r\n  DEFAULT_FRETBOARD_PROPS,\r\n  getDotsForFret,\r\n  IFretboardProps,\r\n} from \"../fretboard/Fretboard.utils\";\r\nimport FretFlag from \"./FretFlag\";\r\n\r\nexport const StyledFretTable = styled.div``;\r\n\r\nconst tableStyles = css`\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  td,\r\n  th {\r\n    min-width: 18px;\r\n    text-align: center;\r\n  }\r\n  tbody td {\r\n    background-color: #e8dbb8;\r\n\r\n    border-right: 1px solid grey;\r\n    &:first-child {\r\n      border-left: 1px solid grey;\r\n    }\r\n    .fret-content {\r\n      min-height: 32px;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      position: relative;\r\n    }\r\n    .fret-string {\r\n      height: 1px;\r\n      background: #bbb;\r\n      width: 100%;\r\n      position: absolute;\r\n      margin: auto 0;\r\n    }\r\n  }\r\n  tbody tr {\r\n    &:first-child {\r\n      border-top: 1px solid grey;\r\n    }\r\n    &:last-child {\r\n      border-bottom: 1px solid grey;\r\n    }\r\n  }\r\n`;\r\n\r\nconst FretTable: React.FC<IFretboardProps> = (userProps) => {\r\n  const props = { ...DEFAULT_FRETBOARD_PROPS, ...userProps };\r\n\r\n  const { fretRange, showFretDots, showFretNumbers, tuning, colorMapFn } =\r\n    props;\r\n  const [lo, hi] = fretRange as [number, number];\r\n\r\n  const numFrets = hi - lo + 1;\r\n  const numStrings = (tuning as number[]).length;\r\n\r\n  const fretNums: number[] = [];\r\n  for (let i = 0; i < numFrets; i++) {\r\n    fretNums.push(lo + i);\r\n  }\r\n\r\n  const fretDots: string[] = [];\r\n  for (let i = 0; i < numFrets; i++) {\r\n    fretDots.push(getDotsForFret(lo + i));\r\n  }\r\n\r\n  const strings: IRowConfig[] = [];\r\n  for (let s = 0; s < numStrings; s++) {\r\n    const frets: IColConfig[] = [];\r\n    for (let f = lo; f <= hi; f++) {\r\n      frets.push({\r\n        content: (\r\n          <div className=\"fret-content\">\r\n            <div className=\"fret-string\" />\r\n            <FretFlag\r\n              color={(colorMapFn as any)({\r\n                stringIndex: s,\r\n                fretIndex: f,\r\n                ...props,\r\n              })}\r\n              text=\"\"\r\n              opacity={1}\r\n            />\r\n          </div>\r\n        ),\r\n      });\r\n    }\r\n    strings.push({\r\n      cols: frets,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <StyledFretTable>\r\n      <Table\r\n        thead={showFretNumbers ? [{ cols: fretNums }] : undefined}\r\n        tfoot={showFretDots ? [{ cols: fretDots }] : undefined}\r\n        tbody={strings}\r\n        styles={tableStyles}\r\n      />\r\n    </StyledFretTable>\r\n  );\r\n};\r\n\r\nexport default FretTable;\r\n","import ArrayUtils from \"../../core/general/Array.utils\";\r\nimport Note from '../../core/models/Note';\r\nimport { NoteId } from './../../core/models/Model.constants';\r\n\r\nexport enum TuningId {\r\n    Standard = 'standard',\r\n    StandardSeven = 'standard-seven',\r\n    StandardBass = 'standard-bass',\r\n    Flat = 'flat',\r\n    DoubleFlat = 'double-flat',\r\n    DropD = 'drop-d',\r\n    DADGAD = 'dadgad',\r\n    Banjo = 'banjo',\r\n    Violin = 'violin',\r\n    OpenA = 'open-a',\r\n    OpenB = 'open-b',\r\n    OpenC = 'open-c',\r\n    OpenD = 'open-d',\r\n    OpenE = 'open-e',\r\n    OpenF = 'open-f',\r\n    OpenG = 'open-g',\r\n}\r\n\r\nexport interface ITuning {\r\n    id: TuningId;\r\n    name: string;\r\n    value: number[]\r\n}\r\n\r\nconst formatPreset = (id: TuningId, name: string, value: number[]): ITuning => ({\r\n    id,\r\n    name,\r\n    value\r\n});\r\n\r\nconst getPitch = (noteId: NoteId, octave: number): number => Note.getNote(noteId, octave).pod[0];\r\n\r\nexport const TUNING_PRESET_MAP = new Map<TuningId, ITuning>([\r\n    [TuningId.Standard, formatPreset(\r\n        TuningId.Standard,\r\n        'Standard Guitar',\r\n        [\r\n            getPitch(NoteId.E, 5),\r\n            getPitch(NoteId.B, 4),\r\n            getPitch(NoteId.G, 4),\r\n            getPitch(NoteId.D, 4),\r\n            getPitch(NoteId.A, 3),\r\n            getPitch(NoteId.E, 3)\r\n        ]\r\n    )],\r\n    [TuningId.Flat, formatPreset(\r\n        TuningId.Flat,\r\n        'Flat Gtr',\r\n        [\r\n            getPitch(NoteId.Eb, 5),\r\n            getPitch(NoteId.Bb, 4),\r\n            getPitch(NoteId.Gb, 4),\r\n            getPitch(NoteId.Db, 4),\r\n            getPitch(NoteId.Ab, 3),\r\n            getPitch(NoteId.Eb, 3)\r\n        ]\r\n    )],\r\n    [TuningId.DoubleFlat, formatPreset(\r\n        TuningId.DoubleFlat,\r\n        'Double Flat Gtr',\r\n        [\r\n            getPitch(NoteId.D, 5),\r\n            getPitch(NoteId.A, 4),\r\n            getPitch(NoteId.F, 4),\r\n            getPitch(NoteId.C, 4),\r\n            getPitch(NoteId.G, 3),\r\n            getPitch(NoteId.D, 3)\r\n        ]\r\n    )],\r\n    [TuningId.StandardSeven, formatPreset(\r\n        TuningId.StandardSeven,\r\n        'Standard 7-String Gtr',\r\n        [\r\n            getPitch(NoteId.E, 5),\r\n            getPitch(NoteId.B, 4),\r\n            getPitch(NoteId.G, 4),\r\n            getPitch(NoteId.D, 4),\r\n            getPitch(NoteId.A, 3),\r\n            getPitch(NoteId.E, 3),\r\n            getPitch(NoteId.B, 3)\r\n        ]\r\n    )],\r\n    [TuningId.StandardBass, formatPreset(\r\n        TuningId.StandardBass,\r\n        'Standard Bass',\r\n        [\r\n            getPitch(NoteId.G, 3),\r\n            getPitch(NoteId.D, 3),\r\n            getPitch(NoteId.A, 2),\r\n            getPitch(NoteId.E, 2)\r\n        ]\r\n    )],\r\n    [TuningId.DropD, formatPreset(\r\n        TuningId.DropD,\r\n        'Drop D Gtr',\r\n        [\r\n            getPitch(NoteId.E, 5),\r\n            getPitch(NoteId.B, 4),\r\n            getPitch(NoteId.G, 4),\r\n            getPitch(NoteId.D, 4),\r\n            getPitch(NoteId.A, 3),\r\n            getPitch(NoteId.D, 3)\r\n        ]\r\n    )],\r\n    [TuningId.DADGAD, formatPreset(\r\n        TuningId.DADGAD,\r\n        'DADGAD',\r\n        [\r\n            getPitch(NoteId.D, 5),\r\n            getPitch(NoteId.A, 4),\r\n            getPitch(NoteId.G, 4),\r\n            getPitch(NoteId.D, 4),\r\n            getPitch(NoteId.A, 3),\r\n            getPitch(NoteId.D, 3)\r\n        ]\r\n    )],\r\n    // Unconfirmed\r\n    /*[TuningId.Banjo, formatPreset(\r\n        TuningId.Banjo,\r\n        'Banjo',\r\n        [\r\n            getPitch(NoteId.G, 5),\r\n            getPitch(NoteId.D, 4),\r\n            getPitch(NoteId.G, 4),\r\n            getPitch(NoteId.B, 4),\r\n            getPitch(NoteId.D, 3)\r\n        ]\r\n    )],*/\r\n    // Unconfirmed\r\n    [TuningId.Violin, formatPreset(\r\n        TuningId.Violin,\r\n        'Violin',\r\n        [\r\n            getPitch(NoteId.E, 5),\r\n            getPitch(NoteId.A, 4),\r\n            getPitch(NoteId.D, 4),\r\n            getPitch(NoteId.G, 4)\r\n        ]\r\n    )],\r\n    [TuningId.OpenA, formatPreset(\r\n        TuningId.OpenA,\r\n        'Open A',\r\n        [\r\n            getPitch(NoteId.E, 5),\r\n            getPitch(NoteId.A, 4),\r\n            getPitch(NoteId.E, 4),\r\n            getPitch(NoteId.Cs, 4),\r\n            getPitch(NoteId.A, 3),\r\n            getPitch(NoteId.E, 3)\r\n        ]\r\n    )],\r\n    [TuningId.OpenB, formatPreset(\r\n        TuningId.OpenB,\r\n        'Open B',\r\n        [\r\n            getPitch(NoteId.Ds, 5),\r\n            getPitch(NoteId.B, 4),\r\n            getPitch(NoteId.Fs, 4),\r\n            getPitch(NoteId.B, 4),\r\n            getPitch(NoteId.Fs, 3),\r\n            getPitch(NoteId.B, 3)\r\n        ]\r\n    )],\r\n    [TuningId.OpenC, formatPreset(\r\n        TuningId.OpenC,\r\n        'Open C',\r\n        [\r\n            getPitch(NoteId.E, 5),\r\n            getPitch(NoteId.C, 4),\r\n            getPitch(NoteId.G, 4),\r\n            getPitch(NoteId.C, 4),\r\n            getPitch(NoteId.G, 3),\r\n            getPitch(NoteId.C, 3)\r\n        ]\r\n    )],\r\n    [TuningId.OpenD, formatPreset(\r\n        TuningId.OpenD,\r\n        'Open D',\r\n        [\r\n            getPitch(NoteId.D, 5),\r\n            getPitch(NoteId.A, 4),\r\n            getPitch(NoteId.Fs, 4),\r\n            getPitch(NoteId.D, 4),\r\n            getPitch(NoteId.A, 3),\r\n            getPitch(NoteId.D, 3)\r\n        ]\r\n    )],\r\n    [TuningId.OpenE, formatPreset(\r\n        TuningId.OpenE,\r\n        'Open E',\r\n        [\r\n            getPitch(NoteId.E, 5),\r\n            getPitch(NoteId.B, 4),\r\n            getPitch(NoteId.Gs, 4),\r\n            getPitch(NoteId.E, 4),\r\n            getPitch(NoteId.B, 3),\r\n            getPitch(NoteId.E, 3)\r\n        ]\r\n    )],\r\n    [TuningId.OpenF, formatPreset(\r\n        TuningId.OpenF,\r\n        'Open F',\r\n        [\r\n            getPitch(NoteId.F, 5),\r\n            getPitch(NoteId.C, 4),\r\n            getPitch(NoteId.F, 4),\r\n            getPitch(NoteId.C, 4),\r\n            getPitch(NoteId.A, 3),\r\n            getPitch(NoteId.F, 3)\r\n        ]\r\n    )],\r\n    [TuningId.OpenG, formatPreset(\r\n        TuningId.OpenG,\r\n        'Open G',\r\n        [\r\n            getPitch(NoteId.D, 5),\r\n            getPitch(NoteId.B, 4),\r\n            getPitch(NoteId.G, 4),\r\n            getPitch(NoteId.D, 4),\r\n            getPitch(NoteId.G, 3),\r\n            getPitch(NoteId.D, 3)\r\n        ]\r\n    )]\r\n]);\r\n\r\nexport const FRETBOARD_TUNING_VALUES = ArrayUtils.mapToArray(TUNING_PRESET_MAP);\r\n","import Chord from \"../../core/models/Chord\";\r\nimport IntervalSpan from \"../../core/models/Interval\";\r\nimport { IModelConfig } from \"../../core/models/Model.constants\";\r\nimport Note from \"../../core/models/Note\";\r\nimport Scale from \"../../core/models/Scale\";\r\nimport { ITuning, TuningId, TUNING_PRESET_MAP } from \"./Fretboard.tuning\";\r\nimport { IVoicing } from \"./Fretboard.voicing\";\r\n\r\nexport interface IFretLabelProps {\r\n  note?: Note;\r\n  color?: string;\r\n  freq?: number;\r\n}\r\n\r\nexport interface IFretboardProps {\r\n  fretRange?: [number, number];\r\n  showFretDots?: boolean;\r\n  showFretNumbers?: boolean;\r\n  colorMapFn?: (fretProps: IFretProps) => string | undefined;\r\n  voicing?: IVoicing;\r\n  tuning?: number[]; // ITuning,\r\n  model?: Chord | Scale;\r\n}\r\n\r\nexport interface IFretProps extends IFretboardProps {\r\n  stringIndex: number;\r\n  fretIndex: number;\r\n}\r\n\r\nexport const DOTTED_FRET_INDICES = [\r\n  true,\r\n  false,\r\n  false,\r\n  true,\r\n  false,\r\n  true,\r\n  false,\r\n  true,\r\n  false,\r\n  true,\r\n  false,\r\n  false,\r\n];\r\n\r\nexport const FRET_SIZE_RATIO = Math.pow(1 / 2, 1 / 12);\r\n\r\nexport const isIntervalInVoicing = (\r\n  interval: IntervalSpan,\r\n  voicing: IVoicing,\r\n  stringIndex: number\r\n) => {\r\n  if (!voicing || !voicing.value) return true;\r\n  const v = voicing.value[stringIndex];\r\n  const d = interval.getDegree();\r\n  if (Array.isArray(v)) {\r\n    return v.some((n) => doesVoicingValueMatch(d, n));\r\n  } else if (typeof v === \"number\") {\r\n    return doesVoicingValueMatch(d, v);\r\n  }\r\n  return false;\r\n};\r\n\r\nexport const getFretColor = (props: IFretProps): string | undefined => {\r\n  const { stringIndex, fretIndex, tuning, model, voicing } = props;\r\n  const noteIndex = tuning[stringIndex] + fretIndex;\r\n  const [interval, note] = model.tryGetPodPairAtPitch(noteIndex);\r\n\r\n  if (!note) return;\r\n\r\n  if (voicing && !isIntervalInVoicing(interval, voicing, stringIndex)) {\r\n    return `#00000011`;\r\n  }\r\n\r\n  return interval.getColor();\r\n};\r\n\r\nexport const DEFAULT_FRETBOARD_PROPS: IFretboardProps = {\r\n  fretRange: [1, 12],\r\n  tuning: TUNING_PRESET_MAP.get(TuningId.Standard).value,\r\n  showFretDots: true,\r\n  showFretNumbers: true,\r\n  colorMapFn: getFretColor,\r\n};\r\n\r\nexport const getFretRatios = (numFrets: number): number[] => {\r\n  const ratios = [];\r\n  for (let i = 1; i <= numFrets; i++) {\r\n    ratios.push(i <= 1 ? 1 : ratios[i - 2] * FRET_SIZE_RATIO);\r\n  }\r\n  return ratios;\r\n};\r\n\r\nexport const getDotsForFret = (fretNumber: number): string => {\r\n  if (fretNumber === 0) return \"\";\r\n  const mod = fretNumber % 12;\r\n  if (mod === 0) return \" \";\r\n  else if (DOTTED_FRET_INDICES[mod]) return \"\";\r\n  return \"\";\r\n};\r\n\r\nconst doesVoicingValueMatch = (d: number, v: number) => {\r\n  return d + 1 === v;\r\n};\r\n","import ArrayUtils from \"../../core/general/Array.utils\";\r\n\r\nexport enum VoicingId {\r\n    None = 'None',\r\n    Chord_Triad_CShape_1 = 'Chord_Triad_CShape_1',\r\n    Chord_Triad_AShape_1 = 'Chord_Triad_AShape_1',\r\n    Chord_Triad_GShape_1 = 'Chord_Triad_GShape_1',\r\n    Chord_Triad_EShape_1 = 'Chord_Triad_EShape_1',\r\n    Chord_Triad_DShape_1 = 'Chord_Triad_DShape_1',\r\n    Chord_Sixth_CShape_1 = 'Chord_Sixth_CShape_1',\r\n    Chord_Sixth_AShape_1 = 'Chord_Sixth_AShape_1',\r\n    Chord_Sixth_GShape_1 = 'Chord_Sixth_GShape_1',\r\n    Chord_Sixth_EShape_1 = 'Chord_Sixth_EShape_1',\r\n    Chord_Sixth_DShape_1 = 'Chord_Sixth_DShape_1',\r\n    Chord_Seventh_CShape_1 = 'Chord_Seventh_CShape_1',\r\n    Chord_Seventh_AShape_1 = 'Chord_Seventh_AShape_1',\r\n    Chord_Seventh_GShape_1 = 'Chord_Seventh_GShape_1',\r\n    Chord_Seventh_EShape_1 = 'Chord_Seventh_EShape_1',\r\n    Chord_Seventh_DShape_1 = 'Chord_Seventh_DShape_1',\r\n    Chord_Shell_E_37 = 'Chord_Shell_E_37',\r\n    Chord_Shell_E_73 = 'Chord_Shell_E_73',\r\n    Chord_Shell_A_37 = 'Chord_Shell_A_37',\r\n    Chord_Shell_A_73 = 'Chord_Shell_A_73',\r\n    Chord_Shell_D_37 = 'Chord_Shell_D_37',\r\n    Chord_Shell_D_73 = 'Chord_Shell_D_73',\r\n    Scale_DoubleOctave_CShape_1 = 'Scale_DoubleOctave_CShape_1',\r\n    Scale_DoubleOctave_CShape_2 = 'Scale_DoubleOctave_CShape_2',\r\n    Scale_DoubleOctave_AShape_1 = 'Scale_DoubleOctave_AShape_1',\r\n    Scale_DoubleOctave_GShape_1 = 'Scale_DoubleOctave_GShape_1',\r\n    Scale_DoubleOctave_EShape_1 = 'Scale_DoubleOctave_EShape_1',\r\n    Scale_DoubleOctave_EShape_2 = 'Scale_DoubleOctave_EShape_2',\r\n    Scale_DoubleOctave_DShape_1 = 'Scale_DoubleOctave_DShape_1',\r\n}\r\n\r\nexport interface IVoicing {\r\n    id: VoicingId;\r\n    name: string;\r\n    value: (number | number[])[]\r\n}\r\n\r\nconst formatPreset = (id: VoicingId, name: string, value: (number | number[])[]): IVoicing => ({\r\n    id,\r\n    name,\r\n    value\r\n});\r\n\r\nexport const VOICING_PRESET_MAP = new Map<VoicingId, IVoicing>([\r\n    // Triads\r\n    [VoicingId.Chord_Triad_CShape_1, formatPreset(\r\n        VoicingId.Chord_Triad_CShape_1,\r\n        'C Shape Triad',\r\n        [3, 1, 5, 3, 1, null]\r\n    )],\r\n    [VoicingId.Chord_Triad_AShape_1, formatPreset(\r\n        VoicingId.Chord_Triad_AShape_1,\r\n        'A Shape Triad',\r\n        [5, 3, 1, 5, 1, null]\r\n    )],\r\n    [VoicingId.Chord_Triad_GShape_1, formatPreset(\r\n        VoicingId.Chord_Triad_GShape_1,\r\n        'G Shape Triad',\r\n        [1, 5, 1, 5, 3, 1]\r\n    )],\r\n    [VoicingId.Chord_Triad_EShape_1, formatPreset(\r\n        VoicingId.Chord_Triad_EShape_1,\r\n        'E Shape Triad',\r\n        [1, 5, 3, 1, 5, 1]\r\n    )],\r\n    [VoicingId.Chord_Triad_DShape_1, formatPreset(\r\n        VoicingId.Chord_Triad_DShape_1,\r\n        'D Shape Triad',\r\n        [3, 1, 5, 1, null, null]\r\n    )],\r\n    // Sixths\r\n    [VoicingId.Chord_Sixth_CShape_1, formatPreset(\r\n        VoicingId.Chord_Sixth_CShape_1,\r\n        'C Shape 6th Chord',\r\n        [3, 6, 5, 3, 1, null]\r\n    )],\r\n    [VoicingId.Chord_Sixth_AShape_1, formatPreset(\r\n        VoicingId.Chord_Sixth_AShape_1,\r\n        'A Shape 6th Chord',\r\n        [5, 3, 6, 5, 1, null]\r\n    )],\r\n    [VoicingId.Chord_Sixth_GShape_1, formatPreset(\r\n        VoicingId.Chord_Sixth_GShape_1,\r\n        'G Shape 6th Chord',\r\n        [6, 5, 1, 5, 3, 1]\r\n    )],\r\n    [VoicingId.Chord_Sixth_EShape_1, formatPreset(\r\n        VoicingId.Chord_Sixth_EShape_1,\r\n        'E Shape 6th Chord',\r\n        [1, 5, 3, 6, 5, 1]\r\n    )],\r\n    [VoicingId.Chord_Sixth_DShape_1, formatPreset(\r\n        VoicingId.Chord_Sixth_DShape_1,\r\n        'D Shape 6th Chord',\r\n        [3, 6, 5, 1, null, null]\r\n    )],\r\n    // Sevenths\r\n    [VoicingId.Chord_Seventh_CShape_1, formatPreset(\r\n        VoicingId.Chord_Seventh_CShape_1,\r\n        'C Shape 7th Chord',\r\n        [3, 7, 5, 3, 1, null]\r\n    )],\r\n    [VoicingId.Chord_Seventh_AShape_1, formatPreset(\r\n        VoicingId.Chord_Seventh_AShape_1,\r\n        'A Shape 7th Chord',\r\n        [5, 3, 7, 5, 1, null]\r\n    )],\r\n    [VoicingId.Chord_Seventh_GShape_1, formatPreset(\r\n        VoicingId.Chord_Seventh_GShape_1,\r\n        'G Shape 7th Chord',\r\n        [7, 5, 1, 5, 3, 1]\r\n    )],\r\n    [VoicingId.Chord_Seventh_EShape_1, formatPreset(\r\n        VoicingId.Chord_Seventh_EShape_1,\r\n        'E Shape 7th Chord',\r\n        [1, 5, 3, 7, 5, 1]\r\n    )],\r\n    [VoicingId.Chord_Seventh_DShape_1, formatPreset(\r\n        VoicingId.Chord_Seventh_DShape_1,\r\n        'D Shape 7th Chord',\r\n        [3, 7, 5, 1, null, null]\r\n    )],\r\n    // Shells\r\n    [VoicingId.Chord_Shell_E_37, formatPreset(\r\n        VoicingId.Chord_Shell_E_37,\r\n        'Shell E 3-7',\r\n        [null, null, null, 7, 3, 1]\r\n    )],\r\n    [VoicingId.Chord_Shell_E_73, formatPreset(\r\n        VoicingId.Chord_Shell_E_73,\r\n        'Shell E 7-3',\r\n        [null, null, 3, 7, null, 1]\r\n    )],\r\n    [VoicingId.Chord_Shell_A_37, formatPreset(\r\n        VoicingId.Chord_Shell_A_37,\r\n        'Shell A 3-7',\r\n        [null, null, 7, 3, 1, null]\r\n    )],\r\n    [VoicingId.Chord_Shell_A_73, formatPreset(\r\n        VoicingId.Chord_Shell_A_73,\r\n        'Shell A 7-3',\r\n        [null, 3, 7, null, 1, null]\r\n    )],\r\n    [VoicingId.Chord_Shell_D_37, formatPreset(\r\n        VoicingId.Chord_Shell_D_37,\r\n        'Shell D 3-7',\r\n        [null, 7, 3, 1, null, null]\r\n    )],\r\n    [VoicingId.Chord_Shell_D_73, formatPreset(\r\n        VoicingId.Chord_Shell_D_73,\r\n        'Shell D 7-3',\r\n        [3, 7, null, 1, null, null]\r\n    )],\r\n    // CAGED Scales\r\n    [VoicingId.Scale_DoubleOctave_EShape_1, formatPreset(\r\n        VoicingId.Scale_DoubleOctave_EShape_1,\r\n        'E Shape Scale (Locrian)',\r\n        [[1, 2, 3], [6, 7], [3, 4, 5], [7, 1, 2], [4, 5, 6], [1, 2, 3]]\r\n    )],\r\n    [VoicingId.Scale_DoubleOctave_EShape_2, formatPreset(\r\n        VoicingId.Scale_DoubleOctave_EShape_2,\r\n        'E Shape Scale (Ionian)',\r\n        [[7, 1, 2], [5, 6], [2, 3, 4], [6, 7, 1], [3, 4, 5], [1, 2]]\r\n    )],\r\n    [VoicingId.Scale_DoubleOctave_DShape_1, formatPreset(\r\n        VoicingId.Scale_DoubleOctave_DShape_1,\r\n        'D Shape Scale (Dorian)',\r\n        [[1, 2, 3], [5, 6, 7], [2, 3, 4], [6, 7, 1], [4, 5], [1, 2, 3]]\r\n    )],\r\n    [VoicingId.Scale_DoubleOctave_CShape_1, formatPreset(\r\n        VoicingId.Scale_DoubleOctave_CShape_1,\r\n        'C Shape Scale (Phrygian)',\r\n        [[1, 2, 3], [5, 6, 7], [3, 4], [7, 1, 2], [4, 5, 6], [1, 2, 3]]\r\n    )],\r\n    [VoicingId.Scale_DoubleOctave_CShape_2, formatPreset(\r\n        VoicingId.Scale_DoubleOctave_CShape_2,\r\n        'C Shape Scale (Lydian)',\r\n        [[7, 1, 2], [4, 5, 6], [2, 3], [6, 7, 1], [3, 4, 5], [1, 2]]\r\n    )],\r\n    [VoicingId.Scale_DoubleOctave_AShape_1, formatPreset(\r\n        VoicingId.Scale_DoubleOctave_AShape_1,\r\n        'A Shape Scale (Mixolydian)',\r\n        [[1, 2], [5, 6, 7], [2, 3, 4], [6, 7, 1], [3, 4, 5], [1, 2]]\r\n    )],\r\n    [VoicingId.Scale_DoubleOctave_GShape_1, formatPreset(\r\n        VoicingId.Scale_DoubleOctave_GShape_1,\r\n        'G Shape Scale (Aeolian)',\r\n        [[1, 2, 3], [5, 6, 7], [2, 3, 4], [7, 1], [4, 5, 6], [1, 2, 3]]\r\n    )]\r\n])\r\n\r\nexport const VOICING_PRESETS = ArrayUtils.mapToArray(VOICING_PRESET_MAP);\r\n","'use strict';\n\nvar isArrayish = require('is-arrayish');\n\nvar concat = Array.prototype.concat;\nvar slice = Array.prototype.slice;\n\nvar swizzle = module.exports = function swizzle(args) {\n\tvar results = [];\n\n\tfor (var i = 0, len = args.length; i < len; i++) {\n\t\tvar arg = args[i];\n\n\t\tif (isArrayish(arg)) {\n\t\t\t// http://jsperf.com/javascript-array-concat-vs-push/98\n\t\t\tresults = concat.call(results, slice.call(arg));\n\t\t} else {\n\t\t\tresults.push(arg);\n\t\t}\n\t}\n\n\treturn results;\n};\n\nswizzle.wrap = function (fn) {\n\treturn function () {\n\t\treturn fn(swizzle(arguments));\n\t};\n};\n","module.exports = function isArrayish(obj) {\n\tif (!obj || typeof obj === 'string') {\n\t\treturn false;\n\t}\n\n\treturn obj instanceof Array || Array.isArray(obj) ||\n\t\t(obj.length >= 0 && (obj.splice instanceof Function ||\n\t\t\t(Object.getOwnPropertyDescriptor(obj, (obj.length - 1)) && obj.constructor.name !== 'String')));\n};\n"],"names":["cssKeywords","reverseKeywords","key","Object","keys","convert","rgb","channels","labels","hsl","hsv","hwb","cmyk","xyz","lab","lch","hex","keyword","ansi16","ansi256","hcg","apple","gray","module","exports","model","Error","length","defineProperty","value","r","g","b","min","Math","max","delta","h","s","l","rdif","gdif","bdif","v","diff","diffc","c","w","k","reversed","currentClosestKeyword","currentClosestDistance","Infinity","distance","y","x","z","t2","t3","val","t1","i","smin","lmin","hi","floor","f","p","q","t","vmin","sl","wh","bl","ratio","n","m","y2","x2","z2","a","atan2","PI","sqrt","hr","cos","sin","args","saturation","round","ansi","color","mult","rem","string","toString","toUpperCase","substring","match","colorString","split","map","char","join","integer","parseInt","chroma","grayscale","hue","pure","mg","conversions","route","forEach","fromModel","routes","toModel","fn","wrappedFn","arg0","result","len","conversion","wrapRounded","raw","wrapRaw","deriveBFS","graph","models","parent","buildGraph","queue","current","pop","adjacents","adjacent","node","unshift","link","from","to","wrapConversion","path","cur","colorNames","swizzle","hasOwnProperty","reverseNames","create","name","call","cs","get","clamp","num","hexDouble","str","toLowerCase","hexAlpha","i2","slice","parseFloat","alpha","isNaN","rgba","arguments","percent","hsla","hwba","skippedModels","hashedModelKeys","sort","limiters","Color","object","this","valpha","newArray","Array","prototype","zeroArray","splice","indexOf","hashedKeys","JSON","stringify","push","limit","freeze","toJSON","places","self","percentString","array","unitArray","unitObject","roundToPlace","undefined","red","getset","maxfn","green","blue","saturationl","lightness","saturationv","white","wblack","cyan","magenta","yellow","black","hexa","rgbArray","alphaHex","rgbNumber","luminosity","lum","element","entries","chan","contrast","color2","lum1","lum2","level","contrastRatio","isDark","isLight","negate","lighten","darken","saturate","desaturate","whiten","blacken","fade","opaquer","rotate","degrees","mix","mixinColor","weight","color1","w1","w2","includes","isArray","number","Number","toFixed","roundTo","channel","modifier","StyledColumnManager","styled","_ref","$tablet","_ref2","$desktop","_ref3","children","tablet","desktop","React","StyledDropdownInput","props","setValue","options","idProperty","displayProperty","className","onChange","e","target","selectedIndex","ColorScheme","RED","BLACK","COLOR_SCHEMES","id","Monochrome","defaultConfig","note","interval","config","labelFn","index","HighlightRoot","getDegree","Degree","DEFAULT_DEGREE_COLOR_SCHEME","PitchClass","DEFAULT_PITCH_COLOR_SCHEME","getPitchClass","StyledCardSection","theme","text","secondary","surface","bg","title","StyledDetailsCol","modelType","modelConfig","root","setModelType","_setModelType","setModelConfig","_setModelConfig","setRoot","_setRoot","CardSection","Link","getModelRoute","modelId","notes","intervals","getName","StyledNumbericInput","utils","border","status","interactive","active","_ref4","highlight","_ref5","_ref6","rest","ButtonInput","onClick","newVal","Icon","iconId","size","type","VOICING_OPTIONS","VoicingId","VOICING_PRESETS","DEFAULT_VOICING","DEFAULT_TUNING","FRETBOARD_TUNING_VALUES","DEFAULT_FRET_RANGE","DEFAULT_FRETBOARD_PROPS","voicing","tuning","fretRange","setVoicing","setTuning","setFretRange","filteredVoicings","filter","some","find","ivl","pod","fretLo","fretHi","InputRow","label","DropdownInput","TuningId","NumericInput","StyledOverlay","StyledContainer","StyledCard","setIsOpen","Card","draggable","StyledMainCol","viewer","isFullScreen","setIsFullScreen","Modal","StyledMaximizeButton","StyledColorSchemeInput","MODEL_TYPE_OPTIONS","ModelType","data","CHORD_PRESETS","SCALE_PRESETS","DEFAULT_MODEL_TYPE","DEFAULT_MODEL_CONFIG","DEFAULT_ROOT","NOTE_PRESETS","getNewModel","newModel","Chord","Note","Scale","setModel","colorScheme","setColorScheme","colorConfig","setColorConfig","modelOptions","newRoot","ColorSchemeInput","qpModelType","useQueryParam","qpModelId","qpRootId","useModelState","initModelType","initModelId","initRootId","useState","preset","getInitModelConfig","StyledFretboardPage","PageLayout","displayName","componentId","useModelQueryParams","modelState","_setColorScheme","instrumentColProps","notesColProps","instrumentName","instrumentTuning","mainColProps","FretTable","colorMapFn","stringIndex","fretIndex","noteIndex","tryGetPodPairAtPitch","isIntervalInVoicing","subtitle","action","MaximizeButton","ColumnManager","MainCol","DetailsCol","NotesCol","FretboardCol","card","CardHeader","AsTag","StyledInputRow","$y","dark3","StyledTable","getIsTypeOmit","Col","isHeader","content","colSpan","ColTag","WrapperTag","Fragment","wrapperProps","Row","cols","headerColIndicies","col","isConfig","getIsConfig","colConfig","TableSection","Tag","rows","row","Table","thead","tfoot","tbody","styles","colGroups","caption","cg","rootId","StyledFretFlag","$color","$opacity","opacity","StyledFretTable","tableStyles","css","userProps","showFretDots","showFretNumbers","lo","numFrets","numStrings","fretNums","fretDots","getDotsForFret","strings","frets","FretFlag","formatPreset","getPitch","noteId","octave","TUNING_PRESET_MAP","Map","Standard","NoteId","Flat","DoubleFlat","StandardSeven","StandardBass","DropD","DADGAD","Violin","OpenA","OpenB","OpenC","OpenD","OpenE","OpenF","OpenG","ArrayUtils","DOTTED_FRET_INDICES","pow","d","doesVoicingValueMatch","getColor","fretNumber","mod","VOICING_PRESET_MAP","Chord_Triad_CShape_1","Chord_Triad_AShape_1","Chord_Triad_GShape_1","Chord_Triad_EShape_1","Chord_Triad_DShape_1","Chord_Sixth_CShape_1","Chord_Sixth_AShape_1","Chord_Sixth_GShape_1","Chord_Sixth_EShape_1","Chord_Sixth_DShape_1","Chord_Seventh_CShape_1","Chord_Seventh_AShape_1","Chord_Seventh_GShape_1","Chord_Seventh_EShape_1","Chord_Seventh_DShape_1","Chord_Shell_E_37","Chord_Shell_E_73","Chord_Shell_A_37","Chord_Shell_A_73","Chord_Shell_D_37","Chord_Shell_D_73","Scale_DoubleOctave_EShape_1","Scale_DoubleOctave_EShape_2","Scale_DoubleOctave_DShape_1","Scale_DoubleOctave_CShape_1","Scale_DoubleOctave_CShape_2","Scale_DoubleOctave_AShape_1","Scale_DoubleOctave_GShape_1","isArrayish","concat","results","arg","wrap","obj","Function","getOwnPropertyDescriptor","constructor"],"sourceRoot":""}